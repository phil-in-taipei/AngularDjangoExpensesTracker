"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["src_app_authenticated-user_finance_finance_module_ts"],{9820:(dn,I,p)=>{p.r(I),p.d(I,{FinanceModule:()=>rn});var r=p(9808),c=p(2382),v=p(6642),q=p(3325),l=p(5620),y=p(7641),u=p(9049),t=p(5e3);let W=(()=>{class n{constructor(e){this.store=e}ngOnInit(){this.store.dispatch(new u.jh)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-finance"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"router-outlet")},directives:[y.lC],styles:[""]}),n})();const f=(0,p(5685).H)({sortComparer:function P(n,i){const e=n.bank.bank_name,o=i.bank.bank_name;let s=0;return e>o?s=1:e<o&&(s=-1),s}}),O=f.getInitialState({errorMessage:void 0,savingsAccountsLoaded:!1,successMessage:void 0});function B(n=O,i){switch(i.type){case u.vn.SavingsAccountAdded:return f.addOne(i.payload.savingsAccount,Object.assign(Object.assign({},n),{errorMessage:void 0,successMessage:"You have successfully submitted a new account!"}));case u.vn.SavingsAccountAddedCancelled:console.log("error adding savings account!"),console.log(i.payload);let e="Error! Savings Account Submission Failed!";return i.payload.err.error.Error&&(e=i.payload.err.error.Error),Object.assign(Object.assign({},n),{successMessage:void 0,errorMessage:e});case u.vn.SavingsAccountDepositSaved:let o=Object.assign({},i.payload.savingsAccount);return console.log("this is the account balance prior to "),console.log(o.account_balance),o.account_balance=(Math.round(100*(+o.account_balance+ +i.payload.amount))/100).toFixed(2).toString(),console.log("this is the new account balance:"),console.log(o.account_balance),f.updateOne({id:i.payload.savingsAccount.id,changes:o},Object.assign(Object.assign({},n),{errorMessage:void 0,successMessage:"You have successfully updated the account info!"}));case u.vn.SavingsAccountWithdrawalSaved:let a=Object.assign({},i.payload.savingsAccount);return console.log("this is the account balance prior to "),console.log(a.account_balance),a.account_balance=(Math.round(100*(+a.account_balance-+i.payload.amount))/100).toFixed(2).toString(),console.log("this is the new account balance:"),console.log(a.account_balance),f.updateOne({id:i.payload.savingsAccount.id,changes:a},Object.assign(Object.assign({},n),{errorMessage:void 0,successMessage:"You have successfully updated the account info!"}));case u.vn.SavingsAccountDepositDeletionSaved:let _=Object.assign({},i.payload.savingsAccount);return console.log("this is the account balance prior to "),console.log(_.account_balance),_.account_balance=(Math.round(100*(+_.account_balance-+i.payload.amount))/100).toFixed(2).toString(),console.log("this is the new account balance:"),console.log(_.account_balance),f.updateOne({id:i.payload.savingsAccount.id,changes:_},Object.assign(Object.assign({},n),{errorMessage:void 0,successMessage:"You have successfully updated the account info!"}));case u.vn.SavingsAccountWithdrawalDeletionSaved:let M=Object.assign({},i.payload.savingsAccount);return console.log("this is the account balance prior to "),console.log(M.account_balance),M.account_balance=(Math.round(100*(+M.account_balance+ +i.payload.amount))/100).toFixed(2).toString(),console.log("this is the new account balance:"),console.log(M.account_balance),f.updateOne({id:i.payload.savingsAccount.id,changes:M},Object.assign(Object.assign({},n),{errorMessage:void 0,successMessage:"You have successfully updated the account info!"}));case u.vn.SavingsAccountDeletionCancelled:let E="Error! Savings Account Deletion Failed!";return i.payload.err.error.Error&&(E=i.payload.err.error.Error),Object.assign(Object.assign({},n),{successMessage:void 0,errorMessage:E});case u.vn.SavingsAccountDeletionSaved:return f.removeOne(i.payload.id,Object.assign(Object.assign({},n),{errorMessage:void 0,successMessage:i.payload.message}));case u.vn.SavingsAccountEditCancelled:let Q="Error! Savings Account Update Failed!";return i.payload.err.error.Error&&(console.log(i.payload.err.error.Error),Q=i.payload.err.error.Error),Object.assign(Object.assign({},n),{successMessage:void 0,errorMessage:Q});case u.vn.SavingsAccountEditUpdated:return console.log("attempting alternative updating approach"),f.updateOne(i.payload.savingsAccount,Object.assign(Object.assign({},n),{errorMessage:void 0,successMessage:"You have successfully updated the account info!"}));case u.vn.SavingsAccountsCleared:return O;case u.vn.SavingsAccountsLoaded:return f.setAll(i.payload.savingsAccounts,Object.assign(Object.assign({},n),{savingsAccountsLoaded:!0}));case u.vn.SavingsAccountsMessagesCleared:return Object.assign(Object.assign({},n),{successMessage:void 0,errorMessage:void 0});default:return n}}const{selectAll:j}=f.getSelectors(),T=(0,l.ZF)("accounts"),b=n=>(0,l.P1)(T,i=>i.entities[n]),x=(0,l.P1)(T,j),R=(0,l.P1)(T,n=>n.savingsAccountsLoaded),N=(0,l.P1)(T,n=>n.errorMessage),Z=(0,l.P1)(T,n=>n.successMessage);var V=p(3889),H=p(7670),X=p(9317);function z(n,i){if(1&n&&(t.TgZ(0,"option",13),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.hij("",e.bank_name," ")}}function K(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1," Please select a bank. "),t.qZA())}function G(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Please enter an account description."),t.qZA())}function tt(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1," Please enter an account balance. "),t.qZA())}function et(n,i){if(1&n&&(t.TgZ(0,"option",13),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.AsE("",e.currency_name,", ",e.currency_code," ")}}function nt(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1," Please select a currency. "),t.qZA())}let ot=(()=>{class n{constructor(e){this.store=e}ngOnInit(){}onSubmitSavingsAccount(e){e.invalid?this.store.dispatch(new u.LN({err:{error:{Error:"The form values were not properly filled in!"}}})):(this.store.dispatch(new u.Pq({savingsAccount:{bank:e.value.bank,account_name:e.value.account_name,currency:e.value.currency,account_balance:e.value.account_balance,account_owner:this.usrProfile.user}})),e.reset())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-account-submit-form"]],inputs:{usrProfile:"usrProfile",banks:"banks",currencies:"currencies"},decls:37,vars:6,consts:[[3,"submit"],["savingsAccountForm","ngForm"],["name","bank","ngModel","","required","",1,"form-control"],["bank","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","minlength","2","rows","4","name","account_name","ngModel","","required","","placeholder","Savings Account Description",1,"form-control"],["account_name","ngModel"],["type","number","min","0.00","max","20000","rows","4","name","account_balance","ngModel","","required","","placeholder","0.00",1,"form-control"],["account_balance","ngModel"],["name","currency","ngModel","","required","",1,"form-control"],["currency","ngModel"],["type","submit",1,"btn","btn-outline-secondary"],[3,"ngValue"]],template:function(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"div")(1,"form",0,1),t.NdJ("submit",function(){t.CHM(s);const d=t.MAs(2);return o.onSubmitSavingsAccount(d)}),t.TgZ(3,"div")(4,"label"),t._uU(5,"Bank"),t.qZA(),t.TgZ(6,"select",2,3),t.YNc(8,z,2,2,"option",4),t.qZA(),t.YNc(9,K,2,0,"div",5),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"div")(12,"label"),t._uU(13,"Account Description"),t.qZA(),t._UZ(14,"input",6,7),t.YNc(16,G,2,0,"div",5),t.qZA(),t._UZ(17,"br"),t.TgZ(18,"div")(19,"label"),t._uU(20,"Account Balance"),t.qZA(),t._UZ(21,"input",8,9),t.YNc(23,tt,2,0,"div",5),t.qZA(),t._UZ(24,"br"),t.TgZ(25,"div")(26,"label"),t._uU(27,"Currency"),t.qZA(),t.TgZ(28,"select",10,11),t.YNc(30,et,2,3,"option",4),t.qZA(),t.YNc(31,nt,2,0,"div",5),t.qZA(),t._UZ(32,"br"),t.TgZ(33,"div")(34,"button",12),t._uU(35," Submit "),t.qZA()()(),t._UZ(36,"br"),t.qZA()}if(2&e){const s=t.MAs(7),a=t.MAs(15),d=t.MAs(22),_=t.MAs(29);t.xp6(8),t.Q6J("ngForOf",o.banks),t.xp6(1),t.Q6J("ngIf",s.touched&&s.invalid),t.xp6(7),t.Q6J("ngIf",a.touched&&a.invalid),t.xp6(7),t.Q6J("ngIf",d.touched&&d.invalid),t.xp6(7),t.Q6J("ngForOf",o.currencies),t.xp6(1),t.Q6J("ngIf",_.touched&&_.invalid)}},directives:[c._Y,c.JL,c.F,c.EJ,c.JJ,c.On,c.Q7,r.sg,c.YN,c.Kr,r.O5,c.Fj,c.wO,c.qQ,c.Fd,c.wV],styles:[""]}),n})();function it(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",2)(2,"h4",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearStatusMsgs()}),t.qZA()()()}if(2&n){const e=i.ngIf;t.xp6(3),t.Oqu(e)}}function st(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",5)(2,"h6"),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearStatusMsgs()}),t.qZA()()()}if(2&n){const e=i.ngIf;t.xp6(3),t.Oqu(e)}}function ct(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"hr",7)(2,"app-account-submit-form",8)(3,"hr",7),t.qZA()),2&n){const e=i.ngIf,o=t.oxw().ngIf,s=t.oxw().ngIf;t.xp6(2),t.Q6J("usrProfile",s)("currencies",e)("banks",o)}}function at(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,ct,4,3,"div",0),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.currencies$))}}function rt(n,i){if(1&n&&(t.TgZ(0,"div",6),t.YNc(1,at,3,3,"div",0),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.banks$))}}let lt=(()=>{class n{constructor(e){this.store=e}ngOnInit(){this.store.dispatch(new u.yj),this.usrProfile$=this.store.pipe((0,l.Ys)(X.d)),this.banks$=this.store.pipe((0,l.Ys)(V.Cl)),this.currencies$=this.store.pipe((0,l.Ys)(H.Xg)),this.accountSubmitErrMsg$=this.store.pipe((0,l.Ys)(N)),this.accountSubmitSuccessMsg$=this.store.pipe((0,l.Ys)(Z))}onClearStatusMsgs(){this.store.dispatch(new u.yj)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-account"]],decls:9,vars:9,consts:[[4,"ngIf"],["class","container",4,"ngIf"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"text-danger"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-secondary","alert-dismissible","fade","show"],[1,"container"],[1,"thick-br"],[3,"usrProfile","currencies","banks"]],template:function(e,o){1&e&&(t._UZ(0,"br"),t.TgZ(1,"h3"),t._uU(2,"Create a Savings Account"),t.qZA(),t.YNc(3,it,5,1,"div",0),t.ALo(4,"async"),t.YNc(5,st,5,1,"div",0),t.ALo(6,"async"),t.YNc(7,rt,3,3,"div",1),t.ALo(8,"async")),2&e&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,3,o.accountSubmitErrMsg$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,5,o.accountSubmitSuccessMsg$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(8,7,o.usrProfile$)))},directives:[r.O5,ot],pipes:[r.Ov],styles:["h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{text-align:center}hr.thick-br[_ngcontent-%COMP%]{border:2px solid #758d97}"]}),n})();var g=p(9646),J=p(7232),w=p(262),m=p(520),h=p(2340),Y=p(3702);let C=(()=>{class n{constructor(e,o){this.http=e,this.authService=o}deleteDeposit(e){let o=this.authService.getAuthToken();return this.http.delete(`${h.N.apiUrl}/api/transactions/submit/deposit/${e}/`,{headers:new m.WM({Authorization:`Token ${o}`})})}deleteWithdrawal(e){let o=this.authService.getAuthToken();return this.http.delete(`${h.N.apiUrl}/api/transactions/submit/withdrawal/${e}/`,{headers:new m.WM({Authorization:`Token ${o}`})})}fetchAccountTransactionsByMonthAndYear(e,o,s){let a=this.authService.getAuthToken();return this.http.get(`${h.N.apiUrl}/api/transactions/account-transactions/by-month-year/${e}/${o}/${s}/`,{headers:new m.WM({Authorization:`Token ${a}`})})}fetchDepositsByMonthAndYear(e,o){let s=this.authService.getAuthToken();return this.http.get(`${h.N.apiUrl}/api/transactions/deposits/by-month-year/${e}/${o}/`,{headers:new m.WM({Authorization:`Token ${s}`})})}fetchWithdrawalsByMonthAndYear(e,o){let s=this.authService.getAuthToken();return this.http.get(`${h.N.apiUrl}/api/transactions/withdrawals/by-month-year/${e}/${o}/`,{headers:new m.WM({Authorization:`Token ${s}`})})}formatThousand(e){return e?e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","):""}removeTransactionFromArrayById(e,o){return e.filter(s=>s.id!==o)}submitNewDeposit(e){let o=this.authService.getAuthToken();return this.http.post(`${h.N.apiUrl}/api/transactions/submit/deposit/`,e,{headers:new m.WM({Authorization:`Token ${o}`})})}submitNewWithdrawal(e){let o=this.authService.getAuthToken();return this.http.post(`${h.N.apiUrl}/api/transactions/submit/withdrawal/`,e,{headers:new m.WM({Authorization:`Token ${o}`})})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eN),t.LFG(Y.e))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ut(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",1)(2,"h6"),t._uU(3),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearStatusMsgs()}),t.qZA()(),t.TgZ(5,"div")(6,"h4"),t._uU(7),t.qZA(),t.TgZ(8,"h4"),t._uU(9),t.qZA()()()}if(2&n){const e=i.ngIf,o=t.oxw();t.xp6(3),t.Oqu(e),t.xp6(4),t.hij("Deposited amount: ",o.deposit.amount,""),t.xp6(2),t.hij("New balance: ",o.savingsAccount.account_balance,"")}}let dt=(()=>{class n{constructor(e){this.store=e,this.accountSubmitSuccessMsg$=(0,g.of)(void 0)}ngOnInit(){this.store.dispatch(new u.Ij({amount:this.deposit.amount,savingsAccount:this.savingsAccount})),this.accountSubmitSuccessMsg$=this.store.pipe((0,l.Ys)(Z))}onClearStatusMsgs(){this.store.dispatch(new u.yj)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-deposit-new-balance"]],inputs:{deposit:"deposit",savingsAccount:"savingsAccount"},decls:2,vars:3,consts:[[4,"ngIf"],["role","alert",1,"alert","alert-secondary","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(e,o){1&e&&(t.YNc(0,ut,10,3,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.accountSubmitSuccessMsg$))},directives:[r.O5],pipes:[r.Ov],styles:[""]}),n})();function pt(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-create-deposit-new-balance",1),t.qZA()),2&n){const e=i.ngIf,o=t.oxw();t.xp6(1),t.Q6J("deposit",o.deposit)("savingsAccount",e)}}let gt=(()=>{class n{constructor(e){this.store=e}ngOnInit(){this.savingsAccount$=this.store.pipe((0,l.Ys)(b(this.deposit.savings_account)))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-newly-created-deposit"]],inputs:{deposit:"deposit"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"deposit","savingsAccount"]],template:function(e,o){1&e&&(t.YNc(0,pt,2,2,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.savingsAccount$))},directives:[r.O5,dt],pipes:[r.Ov],styles:[""]}),n})();function mt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",3)(2,"h4",4),t._uU(3),t.qZA(),t.TgZ(4,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearErrorMessage()}),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.errorMessage)}}function ht(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",6)(2,"h6"),t._uU(3,"Deposit Successfully Submitted!"),t.qZA(),t.TgZ(4,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearNewlySubmittedDeposit()}),t.qZA()(),t._UZ(5,"app-newly-created-deposit",7),t.qZA()}if(2&n){const e=i.ngIf;t.xp6(5),t.Q6J("deposit",e)}}function _t(n,i){if(1&n&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE("",e.bank.bank_name," -- Account: ",e.id," ")}}function vt(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1," Please select a savings account. "),t.qZA())}function ft(n,i){if(1&n&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",e.income_source_name," ")}}function At(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1," Please select an income source. "),t.qZA())}function bt(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1," Please enter an amount. "),t.qZA())}function Zt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"form",8,9),t.NdJ("submit",function(){t.CHM(e);const s=t.MAs(1);return t.oxw().onSubmitDeposit(s)}),t.TgZ(2,"div",10)(3,"input",11,12),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().dateModel=s}),t.qZA(),t.TgZ(5,"div",13)(6,"button",14),t.NdJ("click",function(){return t.CHM(e),t.MAs(4).toggle()}),t._uU(7," Select Date"),t.qZA()()(),t.TgZ(8,"div")(9,"label"),t._uU(10,"Savings Account"),t.qZA(),t.TgZ(11,"select",15,16),t.YNc(13,_t,2,3,"option",17),t.qZA(),t.YNc(14,vt,2,0,"div",0),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"div")(17,"label"),t._uU(18,"Income Source"),t.qZA(),t.TgZ(19,"select",18,19),t.YNc(21,ft,2,2,"option",17),t.qZA(),t.YNc(22,At,2,0,"div",0),t.qZA(),t._UZ(23,"br"),t.TgZ(24,"div")(25,"label"),t._uU(26,"Amount"),t.qZA(),t._UZ(27,"input",20,21),t.YNc(29,bt,2,0,"div",0),t.qZA(),t._UZ(30,"br"),t.TgZ(31,"div")(32,"button",22),t._uU(33," Submit "),t.qZA()()(),t._UZ(34,"br")}if(2&n){const e=t.MAs(12),o=t.MAs(20),s=t.MAs(28),a=t.oxw();t.xp6(3),t.Q6J("ngModel",a.dateModel),t.xp6(10),t.Q6J("ngForOf",a.savingsAccounts),t.xp6(1),t.Q6J("ngIf",e.touched&&e.invalid),t.xp6(7),t.Q6J("ngForOf",a.incomeSources),t.xp6(1),t.Q6J("ngIf",o.touched&&o.invalid),t.xp6(7),t.Q6J("ngIf",s.touched&&s.invalid)}}let wt=(()=>{class n{constructor(e){this.transactionsService=e,this.newDeposit$=(0,g.of)(void 0),this.errorMessage=void 0}ngOnInit(){}onClearErrorMessage(){this.errorMessage=void 0}onClearNewlySubmittedDeposit(){this.newDeposit$=(0,g.of)(void 0)}onSubmitDeposit(e){if(this.onClearErrorMessage(),this.onClearNewlySubmittedDeposit(),e.invalid)return console.log("form error"),void(this.errorMessage="The form values were not properly filled in!");const o={date:`${e.value.date.year}-${e.value.date.month}-${e.value.date.day}`,amount:e.value.amount,savings_account:+e.value.savings_account,income_source:+e.value.income_source};console.log("this is the data to be sent to backend:"),console.log(o),this.newDeposit$=this.transactionsService.submitNewDeposit(o).pipe((0,w.K)(s=>(this.errorMessage=s.error instanceof ErrorEvent?`Error: ${s.error.message}`:`Error: ${s.message}`,(0,g.of)(void 0)))),e.reset()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-deposit-submit-form"]],inputs:{incomeSources:"incomeSources",savingsAccounts:"savingsAccounts"},decls:5,vars:5,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["depositForm",""],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"text-danger"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-secondary","alert-dismissible","fade","show"],[3,"deposit"],[3,"submit"],["depositForm","ngForm"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","date","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["date","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","calendar",3,"click"],["name","savings_account","ngModel","","required","",1,"form-control"],["savings_account","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","income_source","ngModel","","required","",1,"form-control"],["income_source","ngModel"],["type","number","min","0.00","max","20000","rows","4","name","amount","ngModel","","required","","placeholder","0.00",1,"form-control"],["amount","ngModel"],["type","submit",1,"btn","btn-outline-secondary"],[3,"value"]],template:function(e,o){if(1&e&&(t.YNc(0,mt,5,1,"div",0),t.YNc(1,ht,6,1,"div",1),t.ALo(2,"async"),t.YNc(3,Zt,35,6,"ng-template",null,2,t.W1O)),2&e){const s=t.MAs(4);t.Q6J("ngIf",o.errorMessage),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,o.newDeposit$))("ngIfElse",s)}},directives:[r.O5,gt,c._Y,c.JL,c.F,q.J4,c.Fj,c.JJ,c.On,c.EJ,c.Q7,r.sg,c.YN,c.Kr,c.qQ,c.Fd,c.wV],pipes:[r.Ov],styles:[""]}),n})();function yt(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"hr",1)(2,"app-deposit-submit-form",2)(3,"hr",1),t.qZA()),2&n){const e=i.ngIf,o=t.oxw().ngIf;t.xp6(2),t.Q6J("incomeSources",o)("savingsAccounts",e)}}function Tt(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,yt,4,2,"div",0),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.savingsAccounts$))}}let Ct=(()=>{class n{constructor(e){this.store=e,this.savingsAccounts$=(0,g.of)(void 0),this.incomeSources$=(0,g.of)(void 0)}ngOnInit(){this.savingsAccounts$=this.store.pipe((0,l.Ys)(x)),this.incomeSources$=this.store.pipe((0,l.Ys)(J.Hd))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-deposit"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"thick-br"],[3,"incomeSources","savingsAccounts"]],template:function(e,o){1&e&&(t.YNc(0,Tt,3,3,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.incomeSources$))},directives:[r.O5,wt],pipes:[r.Ov],styles:[""]}),n})();function St(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",1)(2,"h6"),t._uU(3),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearStatusMsgs()}),t.qZA()(),t.TgZ(5,"div")(6,"h4"),t._uU(7),t.qZA(),t.TgZ(8,"h4"),t._uU(9),t.qZA()()()}if(2&n){const e=i.ngIf,o=t.oxw();t.xp6(3),t.Oqu(e),t.xp6(4),t.hij("Withdrawal amount: ",o.withdrawal.amount,""),t.xp6(2),t.hij("New balance: ",o.savingsAccount.account_balance,"")}}let Mt=(()=>{class n{constructor(e){this.store=e,this.accountSubmitSuccessMsg$=(0,g.of)(void 0)}ngOnInit(){this.store.dispatch(new u.KH({amount:this.withdrawal.amount,savingsAccount:this.savingsAccount})),this.accountSubmitSuccessMsg$=this.store.pipe((0,l.Ys)(Z))}onClearStatusMsgs(){this.store.dispatch(new u.yj)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-withdrawal-new-balance"]],inputs:{withdrawal:"withdrawal",savingsAccount:"savingsAccount"},decls:2,vars:3,consts:[[4,"ngIf"],["role","alert",1,"alert","alert-secondary","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(e,o){1&e&&(t.YNc(0,St,10,3,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.accountSubmitSuccessMsg$))},directives:[r.O5],pipes:[r.Ov],styles:[""]}),n})();function xt(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-create-withdrawal-new-balance",1),t.qZA()),2&n){const e=i.ngIf,o=t.oxw();t.xp6(1),t.Q6J("withdrawal",o.withdrawal)("savingsAccount",e)}}let Ft=(()=>{class n{constructor(e){this.store=e}ngOnInit(){this.savingsAccount$=this.store.pipe((0,l.Ys)(b(this.withdrawal.savings_account)))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-newly-created-withdrawal"]],inputs:{withdrawal:"withdrawal"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"withdrawal","savingsAccount"]],template:function(e,o){1&e&&(t.YNc(0,xt,2,2,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.savingsAccount$))},directives:[r.O5,Mt],pipes:[r.Ov],styles:[""]}),n})();function Ut(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",3)(2,"h4",4),t._uU(3),t.qZA(),t.TgZ(4,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearErrorMessage()}),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.errorMessage)}}function qt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",6)(2,"h6"),t._uU(3,"Withdrawal Successfully Submitted!"),t.qZA(),t.TgZ(4,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearNewlySubmittedWithdrawal()}),t.qZA()(),t._UZ(5,"app-newly-created-withdrawal",7),t.qZA()}if(2&n){const e=i.ngIf;t.xp6(5),t.Q6J("withdrawal",e)}}function Dt(n,i){if(1&n&&(t.TgZ(0,"option",21),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE("",e.bank.bank_name," -- Account: ",e.id," ")}}function It(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1," Please select a savings account. "),t.qZA())}function Ot(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1," Please enter an amount. "),t.qZA())}function Nt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"form",8,9),t.NdJ("submit",function(){t.CHM(e);const s=t.MAs(1);return t.oxw().onSubmitWithdrawal(s)}),t.TgZ(2,"div",10)(3,"input",11,12),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().dateModel=s}),t.qZA(),t.TgZ(5,"div",13)(6,"button",14),t.NdJ("click",function(){return t.CHM(e),t.MAs(4).toggle()}),t._uU(7," Select Date"),t.qZA()()(),t.TgZ(8,"div")(9,"label"),t._uU(10,"Savings Account"),t.qZA(),t.TgZ(11,"select",15,16),t.YNc(13,Dt,2,3,"option",17),t.qZA(),t.YNc(14,It,2,0,"div",0),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"div")(17,"label"),t._uU(18,"Amount"),t.qZA(),t._UZ(19,"input",18,19),t.YNc(21,Ot,2,0,"div",0),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"div")(24,"button",20),t._uU(25," Submit "),t.qZA()()(),t._UZ(26,"br")}if(2&n){const e=t.MAs(12),o=t.MAs(20),s=t.oxw();t.xp6(3),t.Q6J("ngModel",s.dateModel),t.xp6(10),t.Q6J("ngForOf",s.savingsAccounts),t.xp6(1),t.Q6J("ngIf",e.touched&&e.invalid),t.xp6(7),t.Q6J("ngIf",o.touched&&o.invalid)}}let Jt=(()=>{class n{constructor(e){this.transactionsService=e,this.newWithdrawal$=(0,g.of)(void 0),this.errorMessage=void 0}ngOnInit(){}onClearErrorMessage(){this.errorMessage=void 0}onClearNewlySubmittedWithdrawal(){this.newWithdrawal$=(0,g.of)(void 0)}onSubmitWithdrawal(e){if(this.onClearErrorMessage(),this.onClearNewlySubmittedWithdrawal(),e.invalid)return console.log("form error"),void(this.errorMessage="The form values were not properly filled in!");const o={date:`${e.value.date.year}-${e.value.date.month}-${e.value.date.day}`,amount:e.value.amount,savings_account:+e.value.savings_account};console.log("this is the data to be sent to backend:"),console.log(o),this.newWithdrawal$=this.transactionsService.submitNewWithdrawal(o).pipe((0,w.K)(s=>(this.errorMessage=s.error instanceof ErrorEvent?`Error: ${s.error.message}`:`Error: ${s.message}`,(0,g.of)(void 0)))),e.reset()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-withdrawal-submit-form"]],inputs:{savingsAccounts:"savingsAccounts"},decls:5,vars:5,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["withdrawalForm",""],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"text-danger"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-secondary","alert-dismissible","fade","show"],[3,"withdrawal"],[3,"submit"],["withdrawalForm","ngForm"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","date","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["date","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","calendar",3,"click"],["name","savings_account","ngModel","","required","",1,"form-control"],["savings_account","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","number","min","0.00","max","20000","rows","4","name","amount","ngModel","","required","","placeholder","0.00",1,"form-control"],["amount","ngModel"],["type","submit",1,"btn","btn-outline-secondary"],[3,"value"]],template:function(e,o){if(1&e&&(t.YNc(0,Ut,5,1,"div",0),t.YNc(1,qt,6,1,"div",1),t.ALo(2,"async"),t.YNc(3,Nt,27,4,"ng-template",null,2,t.W1O)),2&e){const s=t.MAs(4);t.Q6J("ngIf",o.errorMessage),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,o.newWithdrawal$))("ngIfElse",s)}},directives:[r.O5,Ft,c._Y,c.JL,c.F,q.J4,c.Fj,c.JJ,c.On,c.EJ,c.Q7,r.sg,c.YN,c.Kr,c.qQ,c.Fd,c.wV],pipes:[r.Ov],styles:[""]}),n})();function Yt(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"hr",1)(2,"app-withdrawal-submit-form",2)(3,"hr",1),t.qZA()),2&n){const e=i.ngIf;t.xp6(2),t.Q6J("savingsAccounts",e)}}let kt=(()=>{class n{constructor(e){this.store=e,this.savingsAccounts$=(0,g.of)(void 0)}ngOnInit(){this.savingsAccounts$=this.store.pipe((0,l.Ys)(x))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-withdrawal"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"thick-br"],[3,"savingsAccounts"]],template:function(e,o){1&e&&(t.YNc(0,Yt,4,1,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.savingsAccounts$))},directives:[r.O5,Jt],pipes:[r.Ov],styles:[""]}),n})();var $t=p(6805),k=p(3888);const Et=(0,k.d)(n=>function(e){n(this),this.name="SequenceError",this.message=e}),Qt=(0,k.d)(n=>function(e){n(this),this.name="NotFoundError",this.message=e});var Wt=p(4482),Lt=p(5403);function S(n){return(0,Wt.e)((i,e)=>{let s,o=!1,a=!1,d=0;i.subscribe((0,Lt.x)(e,_=>{a=!0,(!n||n(_,d++,i))&&(o&&e.error(new Et("Too many matching values")),o=!0,s=_)},()=>{o?(e.next(s),e.complete()):e.error(a?new Qt("No matching values"):new $t.K)}))})}var A=p(1960);function Pt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",1)(2,"h6"),t._uU(3),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearStatusMsgs()}),t.qZA()(),t.TgZ(5,"div")(6,"h4"),t._uU(7),t.qZA(),t.TgZ(8,"h4"),t._uU(9),t.qZA()()()}if(2&n){const e=i.ngIf,o=t.oxw();t.xp6(3),t.Oqu(e),t.xp6(4),t.hij("Deposited amount: ",o.depositDeletionResponse.amount,""),t.xp6(2),t.hij("New balance: ",o.savingsAccount.account_balance,"")}}let Bt=(()=>{class n{constructor(e){this.store=e,this.accountSubmitSuccessMsg$=(0,g.of)(void 0)}ngOnInit(){this.store.dispatch(new u.Et({amount:this.depositDeletionResponse.amount,savingsAccount:this.savingsAccount})),this.accountSubmitSuccessMsg$=this.store.pipe((0,l.Ys)(Z))}onClearStatusMsgs(){this.store.dispatch(new u.yj)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-deposit-new-balance"]],inputs:{depositDeletionResponse:"depositDeletionResponse",savingsAccount:"savingsAccount"},decls:2,vars:3,consts:[[4,"ngIf"],["role","alert",1,"alert","alert-secondary","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(e,o){1&e&&(t.YNc(0,Pt,10,3,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.accountSubmitSuccessMsg$))},directives:[r.O5],pipes:[r.Ov],styles:[""]}),n})();function jt(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-delete-deposit-new-balance",1),t.qZA()),2&n){const e=i.ngIf,o=t.oxw();t.xp6(1),t.Q6J("depositDeletionResponse",o.depositDeletionResponse)("savingsAccount",e)}}let Rt=(()=>{class n{constructor(e){this.store=e}ngOnInit(){this.savingsAccount$=this.store.pipe((0,l.Ys)(b(this.depositDeletionResponse.savings_account)))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-newly-deleted-deposit"]],inputs:{depositDeletionResponse:"depositDeletionResponse"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"depositDeletionResponse","savingsAccount"]],template:function(e,o){1&e&&(t.YNc(0,jt,2,2,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.savingsAccount$))},directives:[r.O5,Bt],pipes:[r.Ov],styles:[""]}),n})();function Vt(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=i.ngIf;t.xp6(1),t.AsE(" ",e.bank.bank_name," -- (",e.id,")\n")}}let D=(()=>{class n{constructor(e){this.store=e,this.savingsAccount$=(0,g.of)(void 0)}ngOnInit(){this.savingsAccount$=this.store.pipe((0,l.Ys)(b(this.savingsAccountId)))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-savings-account-template-string"]],inputs:{savingsAccountId:"savingsAccountId"},decls:2,vars:3,consts:[[4,"ngIf"]],template:function(e,o){1&e&&(t.YNc(0,Vt,2,2,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.savingsAccount$))},directives:[r.O5],pipes:[r.Ov],styles:[""]}),n})();function Ht(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=i.ngIf;t.xp6(1),t.hij(" ",e.income_source_name,"\n")}}let $=(()=>{class n{constructor(e){this.store=e,this.incomeSource$=(0,g.of)(void 0)}ngOnInit(){this.incomeSource$=this.store.pipe((0,l.Ys)((0,J.qm)(this.incomeSourceId)))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-income-source-template-string"]],inputs:{incomeSourceId:"incomeSourceId"},decls:2,vars:3,consts:[[4,"ngIf"]],template:function(e,o){1&e&&(t.YNc(0,Ht,2,1,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.incomeSource$))},directives:[r.O5],pipes:[r.Ov],styles:[""]}),n})();function Xt(n,i){if(1&n&&t._UZ(0,"app-income-source-template-string",8),2&n){const e=t.oxw();t.Q6J("incomeSourceId",e.deposit.income_source)}}function zt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().showDeletionPopup()}),t._uU(2," Remove "),t.qZA()()}}function Kt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().hideDeletionPopup()}),t._uU(2," Don't Delete "),t.qZA()(),t.TgZ(3,"div",9)(4,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().onConfirmDeletion()}),t._uU(5," Confirm Delete "),t.qZA()()}}let Gt=(()=>{class n{constructor(){this.onDeletionConfirmed=new t.vpe,this.depositAmountString="",this.deletionPopupVisible=!1}ngOnInit(){}formatThousand(e){return e?e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","):""}showDeletionPopup(){this.deletionPopupVisible=!0}hideDeletionPopup(){this.deletionPopupVisible=!1}onConfirmDeletion(){this.onDeletionConfirmed.emit(+this.deposit.id)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-single-deposit"]],inputs:{deposit:"deposit"},outputs:{onDeletionConfirmed:"onDeletionConfirmed"},decls:17,vars:6,consts:[[1,"row"],[1,"col"],[1,"text-secondary"],[3,"savingsAccountId"],[3,"incomeSourceId",4,"ngIf"],["class","col text-left",4,"ngIf","ngIfElse"],["class","row"],["delAccount",""],[3,"incomeSourceId"],[1,"col","text-left"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"tr",0)(1,"th",1)(2,"h5",2),t._uU(3),t.qZA()(),t.TgZ(4,"th",1)(5,"h5",2),t._uU(6),t.qZA()(),t.TgZ(7,"th",1)(8,"h5",2),t._UZ(9,"app-savings-account-template-string",3),t.qZA()(),t.TgZ(10,"th",1)(11,"h5",2),t.YNc(12,Xt,1,1,"app-income-source-template-string",4),t.qZA()(),t.TgZ(13,"th",1),t.YNc(14,zt,3,0,"div",5),t.YNc(15,Kt,6,0,"ng-template",6,7,t.W1O),t.qZA()()),2&e){const s=t.MAs(16);t.xp6(3),t.hij(" ",o.deposit.date," "),t.xp6(3),t.hij(" NT$",o.deposit.amount," "),t.xp6(3),t.Q6J("savingsAccountId",o.deposit.savings_account),t.xp6(3),t.Q6J("ngIf",o.deposit.income_source),t.xp6(2),t.Q6J("ngIf",!o.deletionPopupVisible)("ngIfElse",s)}},directives:[D,r.O5,$],styles:["table[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:gray;text-align:left}.small-scr-tbl[_ngcontent-%COMP%]{display:none}"]}),n})();function te(n,i){if(1&n&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e[1]),t.xp6(1),t.Oqu(e[0])}}function ee(n,i){if(1&n&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function ne(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",15)(2,"h6"),t._uU(3),t.qZA(),t.TgZ(4,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearDeletionMessage()}),t.qZA()(),t._UZ(5,"app-newly-deleted-deposit",17),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.depositDeletionResponse.message),t.xp6(2),t.Q6J("depositDeletionResponse",e.depositDeletionResponse)}}function oe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"app-single-deposit",30),t.NdJ("onDeletionConfirmed",function(s){return t.CHM(e),t.oxw(4).onDeleteDeposit(s)}),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("deposit",e)}}function ie(n,i){if(1&n&&(t.TgZ(0,"div",23)(1,"table",24)(2,"thead",25)(3,"tr",26)(4,"th",27)(5,"h5",28),t._uU(6,"Date"),t.qZA()(),t.TgZ(7,"th",27)(8,"h5",28),t._uU(9,"Amount"),t.qZA()(),t.TgZ(10,"th",27)(11,"h5",28),t._uU(12,"Account"),t.qZA()(),t.TgZ(13,"th",27)(14,"h5",28),t._uU(15,"Income Source"),t.qZA()(),t.TgZ(16,"th",27)(17,"h5",28),t._uU(18,"Delete"),t.qZA()()()(),t.TgZ(19,"tbody",25),t.YNc(20,oe,2,1,"div",29),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(20),t.Q6J("ngForOf",e.monthlyDeposits)}}function se(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"br"),t.TgZ(2,"h3"),t._uU(3),t.qZA(),t._UZ(4,"hr",11),t.YNc(5,ie,21,1,"div",21),t.TgZ(6,"div"),t._UZ(7,"hr",22),t.TgZ(8,"h4"),t._uU(9),t.qZA(),t._UZ(10,"hr",22),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.AsE("Deposits for ",e.selectedMonth[0]," ",e.selectedYear,""),t.xp6(2),t.Q6J("ngIf",!e.depositDeletionResponse),t.xp6(4),t.hij("Total: NT$",e.calculateTotalDeposits(e.monthlyDeposits),"")}}function ce(n,i){if(1&n&&(t.TgZ(0,"div",23),t._UZ(1,"hr",11),t.TgZ(2,"h4"),t._uU(3),t.qZA(),t._UZ(4,"hr",11),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.AsE("No payments for ",e.selectedMonth[0]," ",e.selectedYear,"!")}}function ae(n,i){if(1&n&&(t.TgZ(0,"div",18),t.YNc(1,se,11,4,"div",19),t.YNc(2,ce,5,2,"ng-template",null,20,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw();t.Udp("opacity",o.showMonthlySelectForm?"0":"1")("visibility",o.showMonthlySelectForm?"hidden":"visible"),t.Q6J("hidden",o.showMonthlySelectForm),t.xp6(1),t.Q6J("ngIf",o.monthlyDeposits.length>0)("ngIfElse",e)}}let re=(()=>{class n{constructor(e){this.transactionsService=e,this.selectedMonth=["January",1],this.selectedYear="",this.showMonthlySelectForm=!0,this.depositDeletionResponse=void 0}ngOnInit(){this.years=(0,A.jd)(),this.monthsAndIntegers=A.T9}calculateTotalDeposits(e){let o=0;for(var s=0;s<e.length;s++)o+=+e[s].amount;return this.formatThousand(o)}formatThousand(e){return e?e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","):""}onClearDeletionMessage(){this.depositDeletionResponse=void 0}onDeleteDeposit(e){this.transactionsService.deleteDeposit(e).pipe(S()).subscribe(o=>{console.log("catching the response"),console.log(o),this.depositDeletionResponse=o,this.monthlyDeposits=this.transactionsService.removeTransactionFromArrayById(this.monthlyDeposits,e)})}onMonthYearSelect(e){if(e.invalid)return console.log("calandar sumit form is invalid"),void console.log(e.errors);console.log("valid!");let o=e.value.year,s=e.value.month;this.selectedYear=e.value.year,this.selectedMonth=A.T9[+s-1],this.transactionsService.fetchDepositsByMonthAndYear(s,o).pipe(S()).subscribe(a=>{this.monthlyDeposits=a}),this.showMonthlySelectForm=!1}showMonthlySelect(){this.showMonthlySelectForm=!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-deposits-list"]],decls:31,vars:14,consts:[[1,"container",3,"hidden"],[3,"submit"],["monthYearSelectForm","ngForm"],["name","month","ngModel","","required","",1,"form-control"],["month","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","year","ngModel","","required","",1,"form-control"],["year","ngModel"],["type","submit",1,"btn","btn-outline-secondary"],[1,"text-center",3,"hidden"],[1,"btn","btn-sm","btn-outline-secondary","text",3,"click"],[1,"thick-br"],[4,"ngIf"],[3,"hidden","opacity","visibility",4,"ngIf"],[3,"value"],["role","alert",1,"alert","alert-secondary","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],[3,"depositDeletionResponse"],[3,"hidden"],[4,"ngIf","ngIfElse"],["no_billings",""],["class","large-scr-tbl","class","container",4,"ngIf"],[1,"thick-or"],[1,"container"],[1,"table",2,"width","100%"],[1,"table-dark"],[1,"row"],[1,"col"],[1,"text-secondary"],[4,"ngFor","ngForOf"],[3,"deposit","onDeletionConfirmed"]],template:function(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Select Month to View Deposits"),t.qZA(),t.TgZ(3,"form",1,2),t.NdJ("submit",function(){t.CHM(s);const d=t.MAs(4);return o.onMonthYearSelect(d)}),t.TgZ(5,"div")(6,"label"),t._uU(7,"Month"),t.qZA(),t.TgZ(8,"select",3,4),t.YNc(10,te,2,2,"option",5),t.qZA()(),t._UZ(11,"br"),t.TgZ(12,"div")(13,"label"),t._uU(14,"Year"),t.qZA(),t.TgZ(15,"select",6,7),t.YNc(17,ee,2,2,"option",5),t.qZA()(),t._UZ(18,"br"),t.TgZ(19,"div")(20,"button",8),t._uU(21," Submit "),t.qZA()(),t._UZ(22,"br"),t.qZA()(),t.TgZ(23,"div",9),t._UZ(24,"br"),t.TgZ(25,"button",10),t.NdJ("click",function(){return o.showMonthlySelect()}),t._uU(26," Select Another Month "),t.qZA()(),t._UZ(27,"hr",11),t.YNc(28,ne,6,2,"div",12),t._UZ(29,"hr",11),t.YNc(30,ae,4,7,"div",13)}2&e&&(t.Udp("opacity",o.showMonthlySelectForm?"1":"0")("visibility",o.showMonthlySelectForm?"visible":"hidden"),t.Q6J("hidden",!o.showMonthlySelectForm),t.xp6(10),t.Q6J("ngForOf",o.monthsAndIntegers),t.xp6(7),t.Q6J("ngForOf",o.years),t.xp6(6),t.Udp("opacity",o.showMonthlySelectForm?"0":"1")("visibility",o.showMonthlySelectForm?"hidden":"visible"),t.Q6J("hidden",o.showMonthlySelectForm),t.xp6(5),t.Q6J("ngIf",o.depositDeletionResponse),t.xp6(2),t.Q6J("ngIf",o.monthlyDeposits))},directives:[c._Y,c.JL,c.F,c.EJ,c.JJ,c.On,c.Q7,r.sg,c.YN,c.Kr,r.O5,Rt,Gt],styles:["h3[_ngcontent-%COMP%]{text-align:center}hr.thick-br[_ngcontent-%COMP%]{border:2px solid #758d97}.small-scr-tbl[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 767px){#edit[_ngcontent-%COMP%], .large-scr-tbl[_ngcontent-%COMP%]{display:none}.small-scr-tbl[_ngcontent-%COMP%]{display:block}}"]}),n})();function le(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Please enter an account description."),t.qZA())}function ue(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1," Please enter an account balance. "),t.qZA())}let de=(()=>{class n{constructor(e){this.store=e}ngOnInit(){}onSubmitEditedSavingsAccount(e){if(console.log(e.value),e.invalid)return console.log("the form is invalid!"),this.store.dispatch(new u.k4({err:{error:{Error:"The form values were not properly filled in!"}}})),void e.reset();this.store.dispatch(new u.QE({id:this.savingsAccount.id,savingsAccount:{account_balance:e.value.account_balance,account_name:e.value.account_name}})),e.resetForm()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-account-edit-form"]],inputs:{savingsAccount:"savingsAccount"},decls:21,vars:4,consts:[[3,"submit"],["savingsAccountForm","ngForm"],["type","text","minlength","2","rows","4","name","account_name","ngModel","","required","",1,"form-control",3,"placeholder"],["account_name","ngModel"],[4,"ngIf"],["type","number","min","0.00","max","20000","rows","4","name","account_balance","ngModel","","required","",1,"form-control",3,"placeholder"],["account_balance","ngModel"],["type","submit",1,"btn","btn-outline-secondary"]],template:function(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"div")(1,"form",0,1),t.NdJ("submit",function(){t.CHM(s);const d=t.MAs(2);return o.onSubmitEditedSavingsAccount(d)}),t.TgZ(3,"div")(4,"label"),t._uU(5,"Account Description"),t.qZA(),t._UZ(6,"input",2,3),t.YNc(8,le,2,0,"div",4),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"div")(11,"label"),t._uU(12,"Account Balance"),t.qZA(),t._UZ(13,"input",5,6),t.YNc(15,ue,2,0,"div",4),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"div")(18,"button",7),t._uU(19," Submit "),t.qZA()()(),t._UZ(20,"br"),t.qZA()}if(2&e){const s=t.MAs(7),a=t.MAs(14);t.xp6(6),t.s9C("placeholder",o.savingsAccount.account_name),t.xp6(2),t.Q6J("ngIf",s.touched&&s.invalid),t.xp6(5),t.s9C("placeholder",o.savingsAccount.account_balance),t.xp6(2),t.Q6J("ngIf",a.touched&&a.invalid)}},directives:[c._Y,c.JL,c.F,c.Fj,c.wO,c.JJ,c.On,c.Q7,r.O5,c.qQ,c.Fd,c.wV],styles:[""]}),n})();function pe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",2)(2,"h4",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearStatusMsgs()}),t.qZA()()()}if(2&n){const e=i.ngIf;t.xp6(3),t.Oqu(e)}}function ge(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",5)(2,"h6"),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearStatusMsgs()}),t.qZA()()()}if(2&n){const e=i.ngIf;t.xp6(3),t.Oqu(e)}}function me(n,i){if(1&n&&(t.TgZ(0,"div",6),t._UZ(1,"hr",7)(2,"app-account-edit-form",8)(3,"hr",7),t.qZA()),2&n){const e=i.ngIf;t.xp6(2),t.Q6J("savingsAccount",e)}}let he=(()=>{class n{constructor(e,o){this.route=e,this.store=o}ngOnInit(){this.store.dispatch(new u.yj),this.idFromRouteData=this.route.snapshot.params.id,this.savingsAccount$=this.store.pipe((0,l.Ys)(b(this.idFromRouteData))),this.accountSubmitErrMsg$=this.store.pipe((0,l.Ys)(N)),this.accountSubmitSuccessMsg$=this.store.pipe((0,l.Ys)(Z))}onClearStatusMsgs(){this.store.dispatch(new u.yj)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.gz),t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-account"]],decls:9,vars:9,consts:[[4,"ngIf"],["class","container",4,"ngIf"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"text-danger"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-secondary","alert-dismissible","fade","show"],[1,"container"],[1,"thick-br"],[3,"savingsAccount"]],template:function(e,o){1&e&&(t._UZ(0,"br"),t.TgZ(1,"h3"),t._uU(2,"Edit Savings Account"),t.qZA(),t.YNc(3,pe,5,1,"div",0),t.ALo(4,"async"),t.YNc(5,ge,5,1,"div",0),t.ALo(6,"async"),t.YNc(7,me,4,1,"div",1),t.ALo(8,"async")),2&e&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,3,o.accountSubmitErrMsg$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,5,o.accountSubmitSuccessMsg$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(8,7,o.savingsAccount$)))},directives:[r.O5,de],pipes:[r.Ov],styles:["h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{text-align:center}hr.thick-br[_ngcontent-%COMP%]{border:2px solid #758d97}"]}),n})();function _e(n,i){if(1&n&&t._UZ(0,"app-income-source-template-string",5),2&n){const e=t.oxw();t.Q6J("incomeSourceId",e.transaction.income_source)}}function ve(n,i){1&n&&t._uU(0,"\xa0")}let fe=(()=>{class n{constructor(){this.transactionAmountString=""}ngOnInit(){}formatThousand(e){return e?e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","):""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-single-transaction"]],inputs:{transaction:"transaction"},decls:15,vars:5,consts:[[1,"row"],[1,"col"],[1,"text-secondary"],[3,"incomeSourceId",4,"ngIf","ngIfElse"],["blank",""],[3,"incomeSourceId"]],template:function(e,o){if(1&e&&(t.TgZ(0,"tr",0)(1,"th",1)(2,"h5",2),t._uU(3),t.qZA()(),t.TgZ(4,"th",1)(5,"h5",2),t._uU(6),t.qZA()(),t.TgZ(7,"th",1)(8,"h5",2),t._uU(9),t.qZA()(),t.TgZ(10,"th",1)(11,"h5",2),t.YNc(12,_e,1,1,"app-income-source-template-string",3),t.YNc(13,ve,1,0,"ng-template",null,4,t.W1O),t.qZA()()()),2&e){const s=t.MAs(14);t.xp6(3),t.hij(" ",o.transaction.date," "),t.xp6(3),t.hij(" ",o.transaction.transaction," "),t.xp6(3),t.hij(" NT$",o.transaction.amount," "),t.xp6(3),t.Q6J("ngIf",o.transaction.income_source)("ngIfElse",s)}},directives:[r.O5,$],styles:["table[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:gray;text-align:left}.small-scr-tbl[_ngcontent-%COMP%]{display:none}"]}),n})();function Ae(n,i){if(1&n&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE("",e.bank.bank_name," -- Account: ",e.id," ")}}function be(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1," Please select a savings account. "),t.qZA())}function Ze(n,i){if(1&n&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e[1]),t.xp6(1),t.Oqu(e[0])}}function we(n,i){if(1&n&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function ye(n,i){if(1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Account: "),t._UZ(3,"app-savings-account-template-string",28),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(3),t.Q6J("savingsAccountId",e.selectedAccountId)}}function Te(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-single-transaction",29),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("transaction",e)}}function Ce(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"br"),t.TgZ(2,"h3"),t._uU(3),t.qZA(),t.YNc(4,ye,4,1,"div",6),t._UZ(5,"hr",14),t.TgZ(6,"div",20)(7,"table",21)(8,"thead",22)(9,"tr",23)(10,"th",24)(11,"h5",25),t._uU(12,"Date"),t.qZA()(),t.TgZ(13,"th",24)(14,"h5",25),t._uU(15,"Transaction"),t.qZA()(),t.TgZ(16,"th",24)(17,"h5",25),t._uU(18,"Amount"),t.qZA()(),t.TgZ(19,"th",24)(20,"h5",25),t._uU(21,"Income Source"),t.qZA()()()(),t.TgZ(22,"tbody",22),t.YNc(23,Te,2,1,"div",26),t.qZA()()(),t.TgZ(24,"div"),t._UZ(25,"hr",27),t.TgZ(26,"h4"),t._uU(27),t.qZA(),t._UZ(28,"hr",27),t.qZA(),t.TgZ(29,"div"),t._UZ(30,"hr",27),t.TgZ(31,"h4"),t._uU(32),t.qZA(),t._UZ(33,"hr",27),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.AsE("Transactions for ",e.selectedMonth[0]," ",e.selectedYear,""),t.xp6(1),t.Q6J("ngIf",e.selectedAccountId),t.xp6(19),t.Q6J("ngForOf",e.monthlyTransactions),t.xp6(4),t.hij("Total Deposits: NT$",e.calculateTotalDeposits(e.monthlyTransactions),""),t.xp6(5),t.hij("Total Withdrawals: NT$",e.calculateTotalWithdrawals(e.monthlyTransactions),"")}}function Se(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-savings-account-template-string",28),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("savingsAccountId",e.selectedAccountId)}}function Me(n,i){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"hr",14),t.TgZ(2,"h4"),t._uU(3),t.qZA(),t._UZ(4,"hr",14),t.YNc(5,Se,2,1,"div",6),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.AsE("No payments for ",e.selectedMonth[0]," ",e.selectedYear,"!"),t.xp6(2),t.Q6J("ngIf",e.selectedAccountId)}}function xe(n,i){if(1&n&&(t.TgZ(0,"div",17),t.YNc(1,Ce,34,6,"div",18),t.YNc(2,Me,6,3,"ng-template",null,19,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw();t.Udp("opacity",o.showAccountandMonthSelectForm?"0":"1")("visibility",o.showAccountandMonthSelectForm?"hidden":"visible"),t.Q6J("hidden",o.showAccountandMonthSelectForm),t.xp6(1),t.Q6J("ngIf",o.monthlyTransactions.length>0)("ngIfElse",e)}}let Fe=(()=>{class n{constructor(e){this.transactionsService=e,this.selectedMonth=["January",1],this.selectedYear="",this.showAccountandMonthSelectForm=!0}ngOnInit(){this.years=(0,A.jd)(),this.monthsAndIntegers=A.T9}calculateTotalDeposits(e){let o=0;for(var s=0;s<e.length;s++)"Deposit"===e[s].transaction&&(o+=+e[s].amount);return this.formatThousand(o)}calculateTotalWithdrawals(e){let o=0;for(var s=0;s<e.length;s++)"Withdrawal"===e[s].transaction&&(o+=+e[s].amount);return this.formatThousand(o)}formatThousand(e){return e?e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","):""}onMonthYearSelect(e){if(e.invalid)return console.log("submit form is invalid"),void console.log(e.errors);console.log("valid!");let o=e.value.year,s=e.value.month,a=e.value.accountId;this.selectedAccountId=e.value.accountId,this.selectedYear=e.value.year,this.selectedMonth=A.T9[+s-1],this.transactionsService.fetchAccountTransactionsByMonthAndYear(s,o,a).pipe(S()).subscribe(d=>{this.monthlyTransactions=d}),this.showAccountandMonthSelectForm=!1}showAccountAndMonthSelect(){this.showAccountandMonthSelectForm=!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-mixed-transactions-by-account-list"]],inputs:{savingsAccounts:"savingsAccounts"},decls:37,vars:15,consts:[[1,"container",3,"hidden"],[3,"submit"],["monthYearSelectForm","ngForm"],["name","accountId","ngModel","","required","",1,"form-control"],["accountId","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","month","ngModel","","required","",1,"form-control"],["month","ngModel"],["name","year","ngModel","","required","",1,"form-control"],["year","ngModel"],["type","submit",1,"btn","btn-outline-secondary"],[1,"text-center",3,"hidden"],[1,"btn","btn-sm","btn-outline-secondary","text",3,"click"],[1,"thick-br"],[3,"hidden","opacity","visibility",4,"ngIf"],[3,"value"],[3,"hidden"],[4,"ngIf","ngIfElse"],["no_billings",""],[1,"container"],[1,"table",2,"width","100%"],[1,"table-dark"],[1,"row"],[1,"col"],[1,"text-secondary"],[4,"ngFor","ngForOf"],[1,"thick-or"],[3,"savingsAccountId"],[3,"transaction"]],template:function(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Select Account and Month to View Transactions"),t.qZA(),t.TgZ(3,"form",1,2),t.NdJ("submit",function(){t.CHM(s);const d=t.MAs(4);return o.onMonthYearSelect(d)}),t.TgZ(5,"div")(6,"label"),t._uU(7,"Savings Account"),t.qZA(),t.TgZ(8,"select",3,4),t.YNc(10,Ae,2,3,"option",5),t.qZA(),t.YNc(11,be,2,0,"div",6),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"div")(14,"label"),t._uU(15,"Month"),t.qZA(),t.TgZ(16,"select",7,8),t.YNc(18,Ze,2,2,"option",5),t.qZA()(),t._UZ(19,"br"),t.TgZ(20,"div")(21,"label"),t._uU(22,"Year"),t.qZA(),t.TgZ(23,"select",9,10),t.YNc(25,we,2,2,"option",5),t.qZA()(),t._UZ(26,"br"),t.TgZ(27,"div")(28,"button",11),t._uU(29," Submit "),t.qZA()(),t._UZ(30,"br"),t.qZA()(),t.TgZ(31,"div",12),t._UZ(32,"br"),t.TgZ(33,"button",13),t.NdJ("click",function(){return o.showAccountAndMonthSelect()}),t._uU(34," Select Another Account and Month "),t.qZA()(),t._UZ(35,"hr",14),t.YNc(36,xe,4,7,"div",15)}if(2&e){const s=t.MAs(9);t.Udp("opacity",o.showAccountandMonthSelectForm?"1":"0")("visibility",o.showAccountandMonthSelectForm?"visible":"hidden"),t.Q6J("hidden",!o.showAccountandMonthSelectForm),t.xp6(10),t.Q6J("ngForOf",o.savingsAccounts),t.xp6(1),t.Q6J("ngIf",s.touched&&s.invalid),t.xp6(7),t.Q6J("ngForOf",o.monthsAndIntegers),t.xp6(7),t.Q6J("ngForOf",o.years),t.xp6(6),t.Udp("opacity",o.showAccountandMonthSelectForm?"0":"1")("visibility",o.showAccountandMonthSelectForm?"hidden":"visible"),t.Q6J("hidden",o.showAccountandMonthSelectForm),t.xp6(5),t.Q6J("ngIf",o.monthlyTransactions)}},directives:[c._Y,c.JL,c.F,c.EJ,c.JJ,c.On,c.Q7,r.sg,c.YN,c.Kr,r.O5,D,fe],styles:["h3[_ngcontent-%COMP%]{text-align:center}hr.thick-br[_ngcontent-%COMP%]{border:2px solid #758d97}.small-scr-tbl[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 767px){#edit[_ngcontent-%COMP%], .large-scr-tbl[_ngcontent-%COMP%]{display:none}.small-scr-tbl[_ngcontent-%COMP%]{display:block}}"]}),n})();function Ue(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"hr",1)(2,"app-mixed-transactions-by-account-list",2)(3,"hr",1),t.qZA()),2&n){const e=i.ngIf;t.xp6(2),t.Q6J("savingsAccounts",e)}}let qe=(()=>{class n{constructor(e){this.store=e,this.savingsAccounts$=(0,g.of)(void 0)}ngOnInit(){this.savingsAccounts$=this.store.pipe((0,l.Ys)(x))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-mixed-by-account"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"thick-br"],[3,"savingsAccounts"]],template:function(e,o){1&e&&(t.YNc(0,Ue,4,1,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.savingsAccounts$))},directives:[r.O5,Fe],pipes:[r.Ov],styles:[""]}),n})();function De(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().showDeletionPopup()}),t._uU(2," Remove "),t.qZA()()}}function Ie(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().hideDeletionPopup()}),t._uU(2," Don't Delete "),t.qZA()(),t.TgZ(3,"div",7)(4,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().onRemoveSavingsAccount()}),t._uU(5," Confirm Delete "),t.qZA()()}}const Oe=function(n){return["/authenticated-user/finance/edit-account",n]};let Ne=(()=>{class n{constructor(e){this.store=e,this.deletionPopupVisible=!1}ngOnInit(){}showDeletionPopup(){this.deletionPopupVisible=!0}hideDeletionPopup(){this.deletionPopupVisible=!1}onRemoveSavingsAccount(){this.store.dispatch(new u.Y2({id:+this.savingsAccount.id}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-single-savings-account"]],inputs:{savingsAccount:"savingsAccount"},decls:18,vars:9,consts:[[1,"row"],[1,"col"],[1,"text-secondary"],[3,"routerLink"],["class","col text-left",4,"ngIf","ngIfElse"],["class","row"],["delAccount",""],[1,"col","text-left"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"tr",0)(1,"th",1)(2,"h5",2),t._uU(3),t.qZA()(),t.TgZ(4,"th",1)(5,"h5",2)(6,"a",3),t._uU(7),t.qZA()()(),t.TgZ(8,"th",1)(9,"h5",2),t._uU(10),t.qZA()(),t.TgZ(11,"th",1)(12,"h5",2),t._uU(13),t.qZA()(),t.TgZ(14,"th",1),t.YNc(15,De,3,0,"div",4),t.YNc(16,Ie,6,0,"ng-template",5,6,t.W1O),t.qZA()()),2&e){const s=t.MAs(17);t.xp6(3),t.hij(" ",o.savingsAccount.bank.bank_name," "),t.xp6(3),t.Q6J("routerLink",t.VKq(7,Oe,o.savingsAccount.id)),t.xp6(1),t.hij(" ",o.savingsAccount.account_name," "),t.xp6(3),t.hij(" ",o.savingsAccount.account_balance," "),t.xp6(3),t.hij(" ",o.savingsAccount.currency.currency_code," "),t.xp6(2),t.Q6J("ngIf",!o.deletionPopupVisible)("ngIfElse",s)}},directives:[y.yS,r.O5],styles:["table[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:gray;text-align:left}.small-scr-tbl[_ngcontent-%COMP%]{display:none}"]}),n})();function Je(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-single-savings-account",9),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("savingsAccount",e)}}function Ye(n,i){if(1&n&&(t.TgZ(0,"div",1)(1,"div",2)(2,"table",3)(3,"thead",4)(4,"tr",5)(5,"th",6)(6,"h5",7),t._uU(7,"Bank"),t.qZA()(),t.TgZ(8,"th",6)(9,"h5",7),t._uU(10,"Description"),t.qZA()(),t.TgZ(11,"th",6)(12,"h5",7),t._uU(13,"Balance"),t.qZA()(),t.TgZ(14,"th",6)(15,"h5",7),t._uU(16,"Currency"),t.qZA()(),t.TgZ(17,"th",6)(18,"h5",7),t._uU(19,"Delete"),t.qZA()()()(),t.TgZ(20,"tbody",4),t.YNc(21,Je,2,1,"div",8),t.qZA()()()()),2&n){const e=i.ngIf;t.xp6(21),t.Q6J("ngForOf",e)}}let ke=(()=>{class n{constructor(e){this.store=e}ngOnInit(){this.savingsAccounts$=this.store.pipe((0,l.Ys)(x))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-savings-accounts"]],decls:4,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"large-scr-tbl"],[1,"table"],[1,"table-dark"],[1,"row"],[1,"col"],[1,"text-secondary"],[4,"ngFor","ngForOf"],[3,"savingsAccount"]],template:function(e,o){1&e&&(t.TgZ(0,"h3"),t._uU(1,"Savings Accounts"),t.qZA(),t.YNc(2,Ye,22,1,"div",0),t.ALo(3,"async")),2&e&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,o.savingsAccounts$)))},directives:[r.O5,r.sg,Ne],pipes:[r.Ov],styles:["h3[_ngcontent-%COMP%]{text-align:center}hr.thick-br[_ngcontent-%COMP%]{border:2px solid #758d97}.small-scr-tbl[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 767px){#edit[_ngcontent-%COMP%], .large-scr-tbl[_ngcontent-%COMP%]{display:none}.small-scr-tbl[_ngcontent-%COMP%]{display:block}}"]}),n})();function $e(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",1)(2,"h6"),t._uU(3),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearStatusMsgs()}),t.qZA()(),t.TgZ(5,"div")(6,"h4"),t._uU(7),t.qZA(),t.TgZ(8,"h4"),t._uU(9),t.qZA()()()}if(2&n){const e=i.ngIf,o=t.oxw();t.xp6(3),t.Oqu(e),t.xp6(4),t.hij("Withdrawal amount: ",o.withdrawalDeletionResponse.amount,""),t.xp6(2),t.hij("New balance: ",o.savingsAccount.account_balance,"")}}let Ee=(()=>{class n{constructor(e){this.store=e,this.accountSubmitSuccessMsg$=(0,g.of)(void 0)}ngOnInit(){this.store.dispatch(new u._W({amount:this.withdrawalDeletionResponse.amount,savingsAccount:this.savingsAccount})),this.accountSubmitSuccessMsg$=this.store.pipe((0,l.Ys)(Z))}onClearStatusMsgs(){this.store.dispatch(new u.yj)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-withdrawal-new-balance"]],inputs:{withdrawalDeletionResponse:"withdrawalDeletionResponse",savingsAccount:"savingsAccount"},decls:2,vars:3,consts:[[4,"ngIf"],["role","alert",1,"alert","alert-secondary","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(e,o){1&e&&(t.YNc(0,$e,10,3,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.accountSubmitSuccessMsg$))},directives:[r.O5],pipes:[r.Ov],styles:[""]}),n})();function Qe(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-delete-withdrawal-new-balance",1),t.qZA()),2&n){const e=i.ngIf,o=t.oxw();t.xp6(1),t.Q6J("withdrawalDeletionResponse",o.withdrawalDeletionResponse)("savingsAccount",e)}}let We=(()=>{class n{constructor(e){this.store=e}ngOnInit(){this.savingsAccount$=this.store.pipe((0,l.Ys)(b(this.withdrawalDeletionResponse.savings_account)))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-newly-deleted-withdrawal"]],inputs:{withdrawalDeletionResponse:"withdrawalDeletionResponse"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"withdrawalDeletionResponse","savingsAccount"]],template:function(e,o){1&e&&(t.YNc(0,Qe,2,2,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.savingsAccount$))},directives:[r.O5,Ee],pipes:[r.Ov],styles:[""]}),n})();function Le(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().showDeletionPopup()}),t._uU(2," Remove "),t.qZA()()}}function Pe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().hideDeletionPopup()}),t._uU(2," Don't Delete "),t.qZA()(),t.TgZ(3,"div",7)(4,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().onConfirmDeletion()}),t._uU(5," Confirm Delete "),t.qZA()()}}let Be=(()=>{class n{constructor(){this.onDeletionConfirmed=new t.vpe,this.withdrawalAmountString="",this.deletionPopupVisible=!1}ngOnInit(){}formatThousand(e){return e?e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","):""}showDeletionPopup(){this.deletionPopupVisible=!0}hideDeletionPopup(){this.deletionPopupVisible=!1}onConfirmDeletion(){this.onDeletionConfirmed.emit(+this.withdrawal.id)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-single-withdrawal"]],inputs:{withdrawal:"withdrawal"},outputs:{onDeletionConfirmed:"onDeletionConfirmed"},decls:17,vars:5,consts:[[1,"row"],[1,"col"],[1,"text-secondary"],[3,"savingsAccountId"],["class","col text-left",4,"ngIf","ngIfElse"],["class","row"],["delWithdrawal",""],[1,"col","text-left"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"tr",0)(1,"th",1)(2,"h5",2),t._uU(3),t.qZA()(),t.TgZ(4,"th",1)(5,"h5",2),t._uU(6),t.qZA()(),t.TgZ(7,"th",1)(8,"h5",2),t._UZ(9,"app-savings-account-template-string",3),t.qZA()(),t.TgZ(10,"th",1)(11,"h5",2),t._uU(12," \xa0 "),t.qZA()(),t.TgZ(13,"th",1),t.YNc(14,Le,3,0,"div",4),t.YNc(15,Pe,6,0,"ng-template",5,6,t.W1O),t.qZA()()),2&e){const s=t.MAs(16);t.xp6(3),t.hij(" ",o.withdrawal.date," "),t.xp6(3),t.hij(" NT$",o.withdrawal.amount," "),t.xp6(3),t.Q6J("savingsAccountId",o.withdrawal.savings_account),t.xp6(5),t.Q6J("ngIf",!o.deletionPopupVisible)("ngIfElse",s)}},directives:[D,r.O5],styles:["table[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:gray;text-align:left}.small-scr-tbl[_ngcontent-%COMP%]{display:none}"]}),n})();function je(n,i){if(1&n&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e[1]),t.xp6(1),t.Oqu(e[0])}}function Re(n,i){if(1&n&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Ve(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",15)(2,"h6"),t._uU(3),t.qZA(),t.TgZ(4,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearDeletionMessage()}),t.qZA()(),t._UZ(5,"app-newly-deleted-withdrawal",17),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.withdrawalDeletionResponse.message),t.xp6(2),t.Q6J("withdrawalDeletionResponse",e.withdrawalDeletionResponse)}}function He(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"app-single-withdrawal",30),t.NdJ("onDeletionConfirmed",function(s){return t.CHM(e),t.oxw(4).onDeleteWithdrawal(s)}),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("withdrawal",e)}}function Xe(n,i){if(1&n&&(t.TgZ(0,"div",23)(1,"table",24)(2,"thead",25)(3,"tr",26)(4,"th",27)(5,"h5",28),t._uU(6,"Date"),t.qZA()(),t.TgZ(7,"th",27)(8,"h5",28),t._uU(9,"Amount"),t.qZA()(),t.TgZ(10,"th",27)(11,"h5",28),t._uU(12,"Account"),t.qZA()(),t.TgZ(13,"th",27)(14,"h5",28),t._uU(15,"\xa0"),t.qZA()(),t.TgZ(16,"th",27)(17,"h5",28),t._uU(18,"Delete"),t.qZA()()()(),t.TgZ(19,"tbody",25),t.YNc(20,He,2,1,"div",29),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(20),t.Q6J("ngForOf",e.monthlyWithdrawals)}}function ze(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"br"),t.TgZ(2,"h3"),t._uU(3),t.qZA(),t._UZ(4,"hr",11),t.YNc(5,Xe,21,1,"div",21),t.TgZ(6,"div"),t._UZ(7,"hr",22),t.TgZ(8,"h4"),t._uU(9),t.qZA(),t._UZ(10,"hr",22),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.AsE("Withdrawals for ",e.selectedMonth[0]," ",e.selectedYear,""),t.xp6(2),t.Q6J("ngIf",!e.withdrawalDeletionResponse),t.xp6(4),t.hij("Total: NT$",e.calculateTotalWithdrawals(e.monthlyWithdrawals),"")}}function Ke(n,i){if(1&n&&(t.TgZ(0,"div",23),t._UZ(1,"hr",11),t.TgZ(2,"h4"),t._uU(3),t.qZA(),t._UZ(4,"hr",11),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.AsE("No payments for ",e.selectedMonth[0]," ",e.selectedYear,"!")}}function Ge(n,i){if(1&n&&(t.TgZ(0,"div",18),t.YNc(1,ze,11,4,"div",19),t.YNc(2,Ke,5,2,"ng-template",null,20,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw();t.Udp("opacity",o.showMonthlySelectForm?"0":"1")("visibility",o.showMonthlySelectForm?"hidden":"visible"),t.Q6J("hidden",o.showMonthlySelectForm),t.xp6(1),t.Q6J("ngIf",o.monthlyWithdrawals.length>0)("ngIfElse",e)}}const tn=[{path:"",component:W,children:[{path:"savings-accounts",component:ke},{path:"edit-account/:id",component:he},{path:"create-account",component:lt},{path:"create-deposit",component:Ct},{path:"create-withdrawal",component:kt},{path:"monthly-account-transactions",component:qe},{path:"monthly-deposits",component:re},{path:"monthly-withdrawals",component:(()=>{class n{constructor(e){this.transactionsService=e,this.selectedMonth=["January",1],this.selectedYear="",this.showMonthlySelectForm=!0,this.withdrawalDeletionResponse=void 0}ngOnInit(){this.years=(0,A.jd)(),this.monthsAndIntegers=A.T9}calculateTotalWithdrawals(e){let o=0;for(var s=0;s<e.length;s++)o+=+e[s].amount;return this.formatThousand(o)}formatThousand(e){return e?e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","):""}onClearDeletionMessage(){this.withdrawalDeletionResponse=void 0}onDeleteWithdrawal(e){this.transactionsService.deleteWithdrawal(e).pipe(S()).subscribe(o=>{console.log("catching the response"),console.log(o),this.withdrawalDeletionResponse=o,this.monthlyWithdrawals=this.transactionsService.removeTransactionFromArrayById(this.monthlyWithdrawals,e)})}onMonthYearSelect(e){if(e.invalid)return console.log("submit form is invalid"),void console.log(e.errors);console.log("valid!");let o=e.value.year,s=e.value.month;this.selectedYear=e.value.year,this.selectedMonth=A.T9[+s-1],this.transactionsService.fetchWithdrawalsByMonthAndYear(s,o).pipe(S()).subscribe(a=>{this.monthlyWithdrawals=a}),this.showMonthlySelectForm=!1}showMonthlySelect(){this.showMonthlySelectForm=!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-withdrawals-list"]],decls:31,vars:14,consts:[[1,"container",3,"hidden"],[3,"submit"],["monthYearSelectForm","ngForm"],["name","month","ngModel","","required","",1,"form-control"],["month","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","year","ngModel","","required","",1,"form-control"],["year","ngModel"],["type","submit",1,"btn","btn-outline-secondary"],[1,"text-center",3,"hidden"],[1,"btn","btn-sm","btn-outline-secondary","text",3,"click"],[1,"thick-br"],[4,"ngIf"],[3,"hidden","opacity","visibility",4,"ngIf"],[3,"value"],["role","alert",1,"alert","alert-secondary","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],[3,"withdrawalDeletionResponse"],[3,"hidden"],[4,"ngIf","ngIfElse"],["no_billings",""],["class","large-scr-tbl","class","container",4,"ngIf"],[1,"thick-or"],[1,"container"],[1,"table",2,"width","100%"],[1,"table-dark"],[1,"row"],[1,"col"],[1,"text-secondary"],[4,"ngFor","ngForOf"],[3,"withdrawal","onDeletionConfirmed"]],template:function(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Select Month to View Withdrawals"),t.qZA(),t.TgZ(3,"form",1,2),t.NdJ("submit",function(){t.CHM(s);const d=t.MAs(4);return o.onMonthYearSelect(d)}),t.TgZ(5,"div")(6,"label"),t._uU(7,"Month"),t.qZA(),t.TgZ(8,"select",3,4),t.YNc(10,je,2,2,"option",5),t.qZA()(),t._UZ(11,"br"),t.TgZ(12,"div")(13,"label"),t._uU(14,"Year"),t.qZA(),t.TgZ(15,"select",6,7),t.YNc(17,Re,2,2,"option",5),t.qZA()(),t._UZ(18,"br"),t.TgZ(19,"div")(20,"button",8),t._uU(21," Submit "),t.qZA()(),t._UZ(22,"br"),t.qZA()(),t.TgZ(23,"div",9),t._UZ(24,"br"),t.TgZ(25,"button",10),t.NdJ("click",function(){return o.showMonthlySelect()}),t._uU(26," Select Another Month "),t.qZA()(),t._UZ(27,"hr",11),t.YNc(28,Ve,6,2,"div",12),t._UZ(29,"hr",11),t.YNc(30,Ge,4,7,"div",13)}2&e&&(t.Udp("opacity",o.showMonthlySelectForm?"1":"0")("visibility",o.showMonthlySelectForm?"visible":"hidden"),t.Q6J("hidden",!o.showMonthlySelectForm),t.xp6(10),t.Q6J("ngForOf",o.monthsAndIntegers),t.xp6(7),t.Q6J("ngForOf",o.years),t.xp6(6),t.Udp("opacity",o.showMonthlySelectForm?"0":"1")("visibility",o.showMonthlySelectForm?"hidden":"visible"),t.Q6J("hidden",o.showMonthlySelectForm),t.xp6(5),t.Q6J("ngIf",o.withdrawalDeletionResponse),t.xp6(2),t.Q6J("ngIf",o.monthlyWithdrawals))},directives:[c._Y,c.JL,c.F,c.EJ,c.JJ,c.On,c.Q7,r.sg,c.YN,c.Kr,r.O5,We,Be],styles:["h3[_ngcontent-%COMP%]{text-align:center}hr.thick-br[_ngcontent-%COMP%]{border:2px solid #758d97}.small-scr-tbl[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 767px){#edit[_ngcontent-%COMP%], .large-scr-tbl[_ngcontent-%COMP%]{display:none}.small-scr-tbl[_ngcontent-%COMP%]{display:block}}"]}),n})()}]}];let en=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[y.Bz.forChild(tn)],y.Bz]}),n})();var nn=p(2843),on=p(1365),sn=p(9300),F=p(5577),U=p(4004);let cn=(()=>{class n{constructor(e,o){this.http=e,this.authService=o}deleteSavingsAccount(e){let o=this.authService.getAuthToken();return this.http.delete(`${h.N.apiUrl}/api/financial-accounts/savings-account/${e}/`,{headers:new m.WM({Authorization:`Token ${o}`})})}fetchAllSavingsAccounts(){let e=this.authService.getAuthToken();return this.http.get(`${h.N.apiUrl}/api/financial-accounts/savings-accounts/`,{headers:new m.WM({Authorization:`Token ${e}`})})}submitEditedSavingsAccount(e,o){let s=this.authService.getAuthToken();return this.http.patch(`${h.N.apiUrl}/api/financial-accounts/savings-account/${e}/`,o,{headers:new m.WM({Authorization:`Token ${s}`})})}submitNewSavingsAccount(e){let o=this.authService.getAuthToken();return this.http.post(`${h.N.apiUrl}/api/financial-accounts/savings-accounts/`,e,{headers:new m.WM({Authorization:`Token ${o}`})})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.eN),t.LFG(Y.e))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),an=(()=>{class n{constructor(e,o,s){this.actions$=e,this.savingsAccountsService=o,this.store=s,this.loadSavingsAccounts$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(u.vn.SavingsAccountsRequested),(0,on.M)(this.store.pipe((0,l.Ys)(R))),(0,sn.h)(([a,d])=>!d),(0,F.z)(a=>this.savingsAccountsService.fetchAllSavingsAccounts().pipe((0,U.U)(d=>new u.uU({savingsAccounts:d})),(0,w.K)(d=>(0,nn._)(()=>d)))))),this.removeSavingsAccount$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(u.vn.SavingsAccountDeletionRequested),(0,F.z)(a=>this.savingsAccountsService.deleteSavingsAccount(a.payload.id).pipe((0,U.U)(d=>new u.MA(d)),(0,w.K)(d=>(this.store.dispatch(new u.l9({err:d})),(0,g.of)())))))),this.submitSavingsAccount$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(u.vn.SavingsAccountSubmitted),(0,F.z)(a=>this.savingsAccountsService.submitNewSavingsAccount(a.payload.savingsAccount).pipe((0,w.K)(d=>(this.store.dispatch(new u.LN({err:d})),(0,g.of)())))),(0,U.U)(a=>new u.$B({savingsAccount:a})))),this.updateSavingsAccount$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(u.vn.SavingsAccountEditSubmitted),(0,F.z)(a=>this.savingsAccountsService.submitEditedSavingsAccount(a.payload.id,a.payload.savingsAccount).pipe((0,w.K)(d=>(this.store.dispatch(new u.k4({err:d})),(0,g.of)())))),(0,U.U)(a=>new u.qK({savingsAccount:{id:a.id,changes:a}}))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(v.eX),t.LFG(cn),t.LFG(l.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),rn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,en,c.u5,q.IJ,l.Aw.forFeature("accounts",B),v.sQ.forFeature([an])]]}),n})()}}]);