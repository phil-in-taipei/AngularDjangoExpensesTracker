"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["src_app_authenticated-user_authenticated-user_module_ts"],{1458:(D,S,c)=>{c.r(S),c.d(S,{AuthenticatedUserModule:()=>ne});var m=c(9808),b=c(2382),p=c(4394),M=c(2323),E=c(6533),o=c(5724),v=c(1850),_=c(6479),e=c(5e3),T=c(3702);function W(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"li")(1,"a",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().onLogout()}),e._uU(2,"Logout"),e.qZA()()}}let G=(()=>{class t{constructor(n){this.authService=n,this.userIsAuthenticated=!1}ngOnInit(){this.userIsAuthenticated=this.authService.getIsAuth(),this.authListenerSubs=this.authService.getAuthStatusListener().subscribe(n=>{this.userIsAuthenticated=n})}ngOnDestroy(){this.authListenerSubs.unsubscribe()}onLogout(){this.authService.logout()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(T.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-authenticated-header"]],decls:20,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","mydropnav"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","mydropnav","bg-dark"],["routerLink","finance/savings-accounts","href","#",1,"dropdown-item","bg-dark"],["routerLink","finance/create-account","href","#",1,"dropdown-item","bg-dark"],["routerLink","user-profile","href","#",1,"nav-link"],[4,"ngIf"],["href","#",1,"nav-link",3,"click"]],template:function(n,f){1&n&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),e._UZ(3,"span",3),e.qZA(),e.TgZ(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8," Financial Information "),e.qZA(),e.TgZ(9,"ul",8)(10,"li")(11,"a",9),e._uU(12,"Savings Accounts"),e.qZA()(),e.TgZ(13,"li")(14,"a",10),e._uU(15,"Create Account"),e.qZA()()()(),e.TgZ(16,"li")(17,"a",11),e._uU(18,"Profile"),e.qZA()(),e.YNc(19,W,3,0,"li",12),e.qZA()()()()),2&n&&(e.xp6(19),e.Q6J("ngIf",f.userIsAuthenticated))},directives:[E.yS,m.O5],styles:[".navbar-brand[_ngcontent-%COMP%]{color:#758d97!important}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#333}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > .open[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{background-color:#000!important;color:#758d97}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > .open[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#004483}.dropdown-menu[_ngcontent-%COMP%]{font-size:1em;color:#758d97}.dropdown-item[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#004483}.dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#758d97}.mydropnav[_ngcontent-%COMP%]{color:#758d97}"]}),t})(),h=(()=>{class t{constructor(n){this.authService=n,this.userIsAuthenticated=!1}ngOnInit(){this.userIsAuthenticated=this.authService.getIsAuth(),this.authListenerSubs=this.authService.getAuthStatusListener().subscribe(n=>{this.userIsAuthenticated=n})}ngOnDestroy(){this.authListenerSubs.unsubscribe()}onLogout(){this.authService.logout()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(T.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-authenticated-footer"]],decls:23,vars:0,consts:[[1,"mt-5"],[1,"bg-dark","text-center","text-lg-start"],[1,"container","p-4","pb-0"],[1,""],[1,"row"],[1,"col-md-3","col-lg-3","col-xl-3","mx-auto","mt-3"],[1,"text-uppercase","mb-4","font-weight-bold"],[1,"w-100","clearfix","d-md-none"],[1,"col-md-2","col-lg-2","col-xl-2","mx-auto","mt-3"],["routerLink","/authenticated-user/user-profile","href","#"],["href","#",1,"nav-link",3,"click"],[1,"col-md-3","col-lg-2","col-xl-2","mx-auto","mt-3"],[1,"my-3"]],template:function(n,f){1&n&&(e.TgZ(0,"div",0)(1,"footer",1)(2,"div",2)(3,"section",3)(4,"div",4)(5,"div",5)(6,"h6",6),e._uU(7," JWT Angular "),e.qZA(),e.TgZ(8,"p"),e._uU(9,"This is boilerplate for using Angular Refreshing Tokens"),e.qZA()(),e._UZ(10,"hr",7),e.TgZ(11,"div",8)(12,"h6",6),e._uU(13,"JWT Angular Boilerplate"),e.qZA(),e.TgZ(14,"p")(15,"a",9),e._uU(16,"Profile"),e.qZA()(),e.TgZ(17,"p")(18,"a",10),e.NdJ("click",function(){return f.onLogout()}),e._uU(19,"Logout"),e.qZA()()(),e._UZ(20,"hr",7)(21,"div",11),e.qZA()(),e._UZ(22,"hr",12),e.qZA()()())},directives:[E.yS],styles:[""]}),t})(),P=(()=>{class t{constructor(n){this.store=n}ngOnInit(){console.log("initializing the authenticated user component now..."),this.store.dispatch(new o.cv),this.store.dispatch(new v.Ej),this.store.dispatch(new _.Ec)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(M.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-authenticated-user"]],decls:5,vars:0,consts:[[1,"container","content"],[1,"color-frame","rounded"]],template:function(n,f){1&n&&(e._UZ(0,"app-authenticated-header"),e.TgZ(1,"div",0)(2,"div",1),e._UZ(3,"router-outlet"),e.qZA()(),e._UZ(4,"app-authenticated-footer"))},directives:[G,E.lC,h],styles:[""]}),t})();var A=c(9317);function Z(t,l){1&t&&(e.TgZ(0,"div"),e._uU(1,"Please enter an email."),e.qZA())}function x(t,l){1&t&&(e.TgZ(0,"div"),e._uU(1,"Please enter your surname."),e.qZA())}function F(t,l){1&t&&(e.TgZ(0,"div"),e._uU(1,"Please enter your given name."),e.qZA())}let U=(()=>{class t{constructor(n){this.store=n,this.closeEvent=new e.vpe}ngOnInit(){}onSubmitEditedProfile(n){if(n.invalid)return this.store.dispatch(new _.QF({err:{error:{Error:"The form values were not properly filled in!"}}})),n.reset(),void this.closeEvent.emit(!1);this.store.dispatch(new _.Ix({submissionForm:{contact_email:n.value.contact_email,given_name:n.value.given_name,surname:n.value.surname}})),n.resetForm(),this.closeEvent.emit(!1)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(M.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit-profile-form"]],inputs:{profile:"profile"},outputs:{closeEvent:"closeEvent"},decls:27,vars:6,consts:[[3,"submit"],["profileForm","ngForm"],["name","contact_email","type","email","required","","text","","minlength","5","ngModel","",1,"form-control",3,"placeholder"],["contact_email","ngModel"],[4,"ngIf"],["type","text","minlength","2","rows","4","name","surname","ngModel","","required","",1,"form-control",3,"placeholder"],["surname","ngModel"],["type","text","minlength","3","rows","4","name","given_name","ngModel","","required","",1,"form-control",3,"placeholder"],["given_name","ngModel"],["type","submit",1,"btn","btn-outline-secondary"]],template:function(n,f){if(1&n){const C=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("submit",function(){e.CHM(C);const y=e.MAs(1);return f.onSubmitEditedProfile(y)}),e.TgZ(2,"div")(3,"label"),e._uU(4,"Email"),e.qZA(),e._UZ(5,"input",2,3),e.YNc(7,Z,2,0,"div",4),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"div")(10,"label"),e._uU(11,"Surname"),e.qZA(),e._UZ(12,"input",5,6),e.YNc(14,x,2,0,"div",4),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"div")(17,"label"),e._uU(18,"Given Name"),e.qZA(),e._UZ(19,"input",7,8),e.YNc(21,F,2,0,"div",4),e.qZA(),e._UZ(22,"hr"),e.TgZ(23,"div")(24,"button",9),e._uU(25,"Submit"),e.qZA()(),e._UZ(26,"br"),e.qZA()}if(2&n){const C=e.MAs(6),k=e.MAs(13),y=e.MAs(20);e.xp6(5),e.s9C("placeholder",f.profile.contact_email),e.xp6(2),e.Q6J("ngIf",C.touched&&C.invalid),e.xp6(5),e.s9C("placeholder",f.profile.surname),e.xp6(2),e.Q6J("ngIf",k.touched&&k.invalid),e.xp6(5),e.s9C("placeholder",f.profile.given_name),e.xp6(2),e.Q6J("ngIf",y.touched&&y.invalid)}},directives:[b._Y,b.JL,b.F,b.Fj,b.Q7,b.wO,b.JJ,b.On,m.O5],styles:[""]}),t})();function B(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"div")(1,"div",10)(2,"h4",11),e._uU(3),e.qZA(),e.TgZ(4,"button",12),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onClearStatusMsgs()}),e.qZA()()()}if(2&t){const n=l.ngIf;e.xp6(3),e.Oqu(n)}}function I(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"div")(1,"div",13)(2,"h6"),e._uU(3),e.qZA(),e.TgZ(4,"button",12),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onClearStatusMsgs()}),e.qZA()()()}if(2&t){const n=l.ngIf;e.xp6(3),e.Oqu(n)}}function R(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"div",1),e.YNc(1,B,5,1,"div",2),e.ALo(2,"async"),e.YNc(3,I,5,1,"div",2),e.ALo(4,"async"),e.TgZ(5,"div",3)(6,"div",4)(7,"h1"),e._uU(8),e.ALo(9,"uppercase"),e.qZA()(),e._UZ(10,"hr"),e.TgZ(11,"table",5)(12,"tr")(13,"th")(14,"h3"),e._uU(15,"Name"),e.qZA()(),e.TgZ(16,"td")(17,"h3"),e._uU(18),e.qZA()()(),e.TgZ(19,"tr")(20,"th")(21,"h3"),e._uU(22,"Email"),e.qZA()(),e.TgZ(23,"td")(24,"h3"),e._uU(25),e.qZA()()()(),e._UZ(26,"hr"),e.TgZ(27,"div",6)(28,"button",7),e.NdJ("click",function(){return e.CHM(n),e.oxw().toggleForm()}),e._uU(29),e.qZA()(),e._UZ(30,"hr"),e.TgZ(31,"div",8)(32,"app-edit-profile-form",9),e.NdJ("closeEvent",function(C){return e.CHM(n),e.oxw().closeFormHander(C)}),e.qZA()(),e._UZ(33,"br"),e.qZA()()}if(2&t){const n=l.ngIf,f=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,10,f.userProfileSubmitErrMsg$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,12,f.userProfileSubmitSuccessMsg$)),e.xp6(5),e.AsE("Profile of: ",e.lcZ(9,14,n.user.username[0]),"",n.user.username.substring(1),""),e.xp6(10),e.AsE(" ",n.given_name," ",n.surname," "),e.xp6(7),e.Oqu(n.contact_email),e.xp6(4),e.hij(" ",f.showForm?"No thanks, I'll Edit My Profile Later":"Edit Profile"," "),e.xp6(2),e.Q6J("hidden",!f.showForm),e.xp6(1),e.Q6J("profile",n)}}const N=[{path:"",component:P,children:[{path:"user-profile",component:(()=>{class t{constructor(n){this.store=n,this.showForm=!1}ngOnInit(){console.log("initializing the profile component now..."),this.store.dispatch(new _.Vv),this.usrProfile$=this.store.pipe((0,M.Ys)(A.d)),this.userProfileSubmitErrMsg$=this.store.pipe((0,M.Ys)(A.$J)),this.userProfileSubmitSuccessMsg$=this.store.pipe((0,M.Ys)(A.ho))}toggleForm(){this.showForm=!this.showForm}closeFormHander(n){this.showForm=n}onClearStatusMsgs(){this.store.dispatch(new _.Vv)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(M.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-profile"]],decls:3,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngIf"],[1,"table-responsive"],[1,"container","mt-1","pt-1"],[1,"profile-table",2,"width","100%"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[3,"hidden"],[3,"profile","closeEvent"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"text-danger"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-secondary","alert-dismissible","fade","show"]],template:function(n,f){1&n&&(e.TgZ(0,"div"),e.YNc(1,R,34,16,"div",0),e.ALo(2,"async"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,f.usrProfile$)))},directives:[m.O5,U],pipes:[m.Ov,m.gd],styles:["h1[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{border:1px solid #758d97;border-collapse:collapse}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-left:1px solid #758d97;border-right:1px solid #758d97;border-bottom:1pt solid #758d97;padding:1em}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1em}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-left:1px solid #758d97;border-right:1px solid #758d97;padding:1em}hr.thick-or[_ngcontent-%COMP%]{border:2px solid #cb410b}hr.thin-white[_ngcontent-%COMP%]{border:1px solid white}"]}),t})()},{path:"finance",loadChildren:()=>c.e("src_app_authenticated-user_finance_finance_module_ts").then(c.bind(c,3372)).then(t=>t.FinanceModule)},{path:"**",redirectTo:"/user-profile"}]}];let $=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[E.Bz.forChild(N)],E.Bz]}),t})();var Y=c(2843),J=c(1365),j=c(9300),d=c(5577),s=c(4004),i=c(262),r=c(3889),a=c(520),u=c(2340);let g=(()=>{class t{constructor(n,f){this.http=n,this.authService=f}fetchAllBanks(){let n=this.authService.getAuthToken();return this.http.get(`${u.N.apiUrl}/api/financial-accounts/banks/`,{headers:new a.WM({Authorization:`Token ${n}`})})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(a.eN),e.LFG(T.e))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),O=(()=>{class t{constructor(n,f,C){this.actions$=n,this.banksService=f,this.store=C,this.loadBanks$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(o.QV.BanksRequested),(0,J.M)(this.store.pipe((0,M.Ys)(r.Z))),(0,j.h)(([k,y])=>!y),(0,d.z)(k=>this.banksService.fetchAllBanks().pipe((0,s.U)(y=>new o.DL({banks:y})),(0,i.K)(y=>(0,Y._)(()=>y))))))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(p.eX),e.LFG(g),e.LFG(M.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var L=c(4343),w=c(7670);let z=(()=>{class t{constructor(n,f){this.http=n,this.authService=f}fetchAllCurrencies(){let n=this.authService.getAuthToken();return this.http.get(`${u.N.apiUrl}/api/currencies/`,{headers:new a.WM({Authorization:`Token ${n}`})})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(a.eN),e.LFG(T.e))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Q=(()=>{class t{constructor(n,f,C){this.actions$=n,this.currenciesService=f,this.store=C,this.loadCurrencies$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(v.UV.CurrenciesRequested),(0,J.M)(this.store.pipe((0,M.Ys)(w.sH))),(0,j.h)(([k,y])=>!y),(0,d.z)(k=>this.currenciesService.fetchAllCurrencies().pipe((0,s.U)(y=>new v.KN({currencies:y})),(0,i.K)(y=>(0,Y._)(()=>y))))))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(p.eX),e.LFG(z),e.LFG(M.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var V=c(4085),X=c(9646);let q=(()=>{class t{constructor(n,f){this.http=n,this.authService=f}fetchUserProfile(){let n=this.authService.getAuthToken();return this.http.get(`${u.N.apiUrl}/api/profiles/user-profile/`,{headers:new a.WM({Authorization:`Token ${n}`})}).pipe((0,s.U)(f=>f))}editUserProfile(n){let f=this.authService.getAuthToken();return this.http.patch(`${u.N.apiUrl}/api/profiles/user-profile/`,n,{headers:new a.WM({Authorization:`Token ${f}`})}).pipe((0,s.U)(C=>C))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(a.eN),e.LFG(T.e))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ee=(()=>{class t{constructor(n,f,C){this.actions$=n,this.userService=f,this.store=C,this.loadUserProfile$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(_.xx.UserProfileRequested),(0,J.M)(this.store.pipe((0,M.Ys)(A.d))),(0,j.h)(([k,y])=>!y),(0,d.z)(k=>this.userService.fetchUserProfile().pipe((0,s.U)(y=>new _.LN({usrProfile:y})),(0,i.K)(y=>(0,Y._)(()=>y)))))),this.submitEditedProfile$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(_.xx.UserProfileSubmitted),(0,d.z)(k=>this.userService.editUserProfile(k.payload.submissionForm).pipe((0,s.U)(y=>new _.eV({usrProfile:y})),(0,i.K)(y=>(this.store.dispatch(new _.QF({err:y})),(0,X.of)()))))))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(p.eX),e.LFG(q),e.LFG(M.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();const H={errorMessage:void 0,successMessage:void 0,userProfileLoaded:!1,usrProfile:void 0};function te(t=H,l){switch(l.type){case _.xx.UserProfileCleared:return H;case _.xx.UserProfileLoaded:return{errorMessage:void 0,successMessage:void 0,userProfileLoaded:!0,usrProfile:l.payload.usrProfile};case _.xx.UserProfileMessagesCleared:return Object.assign(Object.assign({},t),{successMessage:void 0,errorMessage:void 0});case _.xx.UserProfileSaved:return{errorMessage:void 0,successMessage:"User Profile has been Sucessfully Updated!",userProfileLoaded:!0,usrProfile:l.payload.usrProfile};case _.xx.UserProfileSubmissionCancelled:console.log("error adding savings account!"),console.log(l.payload);let n="Error! Savings Account Submission Failed!";return l.payload.err.error.Error&&(n=l.payload.err.error.Error),Object.assign(Object.assign({},t),{successMessage:void 0,errorMessage:n});default:return t}}let ne=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez,b.u5,$,M.Aw.forFeature("banks",L.IP),M.Aw.forFeature("currencies",V.mv),M.Aw.forFeature("user",te),p.sQ.forFeature([O]),p.sQ.forFeature([Q]),p.sQ.forFeature([ee])]]}),t})()},4343:(D,S,c)=>{c.d(S,{IP:()=>E,td:()=>o});var m=c(5685),b=c(5724);const p=(0,m.H)(),M=p.getInitialState({banksLoaded:!1});function E(e=M,T){switch(T.type){case b.QV.BanksLoaded:return p.setAll(T.payload.banks,Object.assign(Object.assign({},e),{banksLoaded:!0}));case b.QV.BanksCleared:return M;default:return e}}const{selectAll:o}=p.getSelectors()},3889:(D,S,c)=>{c.d(S,{Cl:()=>M,Z:()=>E});var m=c(2323),b=c(4343);const p=(0,m.ZF)("banks"),M=(0,m.P1)(p,b.td),E=(0,m.P1)(p,o=>o.banksLoaded)},4085:(D,S,c)=>{c.d(S,{mv:()=>E,td:()=>o});var m=c(5685),b=c(1850);const p=(0,m.H)(),M=p.getInitialState({currenciesLoaded:!1});function E(e=M,T){switch(T.type){case b.UV.CurrenciesLoaded:return p.setAll(T.payload.currencies,Object.assign(Object.assign({},e),{currenciesLoaded:!0}));case b.UV.CurrenciesCleared:return M;default:return e}}const{selectAll:o}=p.getSelectors()},7670:(D,S,c)=>{c.d(S,{Xg:()=>M,sH:()=>E});var m=c(2323),b=c(4085);const p=(0,m.ZF)("currencies"),M=(0,m.P1)(p,b.td),E=(0,m.P1)(p,o=>o.currenciesLoaded)},9317:(D,S,c)=>{c.d(S,{d:()=>p,$J:()=>M,ho:()=>E});var m=c(2323);const b=(0,m.ZF)("user"),p=(0,m.P1)(b,o=>o.usrProfile),M=(0,m.P1)(b,o=>o.errorMessage),E=(0,m.P1)(b,o=>o.successMessage)},5685:(D,S,c)=>{c.d(S,{H:()=>W});var m=c(2323),b=c(5e3),o=(()=>{return(h=o||(o={}))[h.EntitiesOnly=0]="EntitiesOnly",h[h.Both=1]="Both",h[h.None=2]="None",o;var h})();function v(h){return function(A,Z){const x={ids:[...Z.ids],entities:Object.assign({},Z.entities)},F=h(A,x);return F===o.Both?Object.assign({},Z,x):F===o.EntitiesOnly?Object.assign(Object.assign({},Z),{entities:x.entities}):Z}}function _(h,P){const A=P(h);return(0,b.X6Q)()&&void 0===A&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",h,"The `selectId` implementation:",P.toString()),A}function e(h){function P(d,s){const i=_(d,h);return i in s.entities?o.None:(s.ids.push(i),s.entities[i]=d,o.Both)}function A(d,s){let i=!1;for(const r of d)i=P(r,s)!==o.None||i;return i?o.Both:o.None}function x(d,s){const i=_(d,h);return i in s.entities?(s.entities[i]=d,o.EntitiesOnly):(s.ids.push(i),s.entities[i]=d,o.Both)}function B(d,s){const r=(d instanceof Array?d:s.ids.filter(a=>d(s.entities[a]))).filter(a=>a in s.entities).map(a=>delete s.entities[a]).length>0;return r&&(s.ids=s.ids.filter(a=>a in s.entities)),r?o.Both:o.None}function K(d,s){return N([d],s)}function N(d,s){const i={};return(d=d.filter(a=>a.id in s.entities)).length>0?d.filter(u=>function R(d,s,i){const a=Object.assign({},i.entities[s.id],s.changes),u=_(a,h),g=u!==s.id;return g&&(d[s.id]=u,delete i.entities[s.id]),i.entities[u]=a,g}(i,u,s)).length>0?(s.ids=s.ids.map(u=>i[u]||u),o.Both):o.EntitiesOnly:o.None}function j(d,s){const i=[],r=[];for(const g of d){const O=_(g,h);O in s.entities?r.push({id:O,changes:g}):i.push(g)}const a=N(r,s),u=A(i,s);switch(!0){case u===o.None&&a===o.None:return o.None;case u===o.Both||a===o.Both:return o.Both;default:return o.EntitiesOnly}}return{removeAll:function I(d){return Object.assign({},d,{ids:[],entities:{}})},addOne:v(P),addMany:v(A),setAll:v(function Z(d,s){return s.ids=[],s.entities={},A(d,s),o.Both}),setOne:v(x),setMany:v(function F(d,s){const i=d.map(r=>x(r,s));switch(!0){case i.some(r=>r===o.Both):return o.Both;case i.some(r=>r===o.EntitiesOnly):return o.EntitiesOnly;default:return o.None}}),updateOne:v(K),updateMany:v(N),upsertOne:v(function J(d,s){return j([d],s)}),upsertMany:v(j),removeOne:v(function U(d,s){return B([d],s)}),removeMany:v(B),map:v(function $(d,s){return N(s.ids.reduce((a,u)=>{const g=d(s.entities[u]);return g!==s.entities[u]&&a.push({id:u,changes:g}),a},[]).filter(({id:a})=>a in s.entities),s)}),mapOne:v(function Y({map:d,id:s},i){const r=i.entities[s];return r?K({id:s,changes:d(r)},i):o.None})}}function W(h={}){const{selectId:P,sortComparer:A}=Object.assign({sortComparer:!1,selectId:U=>U.id},h),Z=function M(){return{getInitialState:function h(P={}){return Object.assign({ids:[],entities:{}},P)}}}(),x=function E(){return{getSelectors:function h(P){const A=U=>U.ids,Z=U=>U.entities,x=(0,m.P1)(A,Z,(U,B)=>U.map(I=>B[I])),F=(0,m.P1)(A,U=>U.length);return P?{selectIds:(0,m.P1)(P,A),selectEntities:(0,m.P1)(P,Z),selectAll:(0,m.P1)(P,x),selectTotal:(0,m.P1)(P,F)}:{selectIds:A,selectEntities:Z,selectAll:x,selectTotal:F}}}}(),F=A?function T(h,P){const{removeOne:A,removeMany:Z,removeAll:x}=e(h);function F(i,r){return U([i],r)}function U(i,r){const a=i.filter(u=>!(_(u,h)in r.entities));return 0===a.length?o.None:(s(a,r),o.Both)}function I(i,r){const a=_(i,h);return a in r.entities?(r.ids=r.ids.filter(u=>u!==a),s([i],r),o.Both):F(i,r)}function K(i,r){return $([i],r)}function $(i,r){const a=[],u=i.filter(g=>function N(i,r,a){if(!(r.id in a.entities))return!1;const g=Object.assign({},a.entities[r.id],r.changes),O=_(g,h);return delete a.entities[r.id],i.push(g),O!==r.id}(a,g,r)).length>0;if(0===a.length)return o.None;{const g=r.ids,O=[];return r.ids=r.ids.filter((L,w)=>L in r.entities||(O.push(w),!1)),s(a,r),!u&&O.every(L=>r.ids[L]===g[L])?o.EntitiesOnly:o.Both}}function d(i,r){const a=[],u=[];for(const L of i){const w=_(L,h);w in r.entities?u.push({id:w,changes:L}):a.push(L)}const g=$(u,r),O=U(a,r);switch(!0){case O===o.None&&g===o.None:return o.None;case O===o.Both||g===o.Both:return o.Both;default:return o.EntitiesOnly}}function s(i,r){i.sort(P);const a=[];let u=0,g=0;for(;u<i.length&&g<r.ids.length;){const O=i[u],L=_(O,h),w=r.ids[g];P(O,r.entities[w])<=0?(a.push(L),u++):(a.push(w),g++)}r.ids=a.concat(u<i.length?i.slice(u).map(h):r.ids.slice(g)),i.forEach((O,L)=>{r.entities[h(O)]=O})}return{removeOne:A,removeMany:Z,removeAll:x,addOne:v(F),updateOne:v(K),upsertOne:v(function j(i,r){return d([i],r)}),setAll:v(function B(i,r){return r.entities={},r.ids=[],U(i,r),o.Both}),setOne:v(I),setMany:v(function R(i,r){const a=i.map(u=>I(u,r));switch(!0){case a.some(u=>u===o.Both):return o.Both;case a.some(u=>u===o.EntitiesOnly):return o.EntitiesOnly;default:return o.None}}),addMany:v(U),updateMany:v($),upsertMany:v(d),map:v(function Y(i,r){return $(r.ids.reduce((u,g)=>{const O=i(r.entities[g]);return O!==r.entities[g]&&u.push({id:g,changes:O}),u},[]),r)}),mapOne:v(function J({map:i,id:r},a){const u=a.entities[r];return u?K({id:r,changes:i(u)},a):o.None})}}(P,A):e(P);return Object.assign(Object.assign(Object.assign({selectId:P,sortComparer:A},Z),x),F)}}}]);